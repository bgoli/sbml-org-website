<!-- HTML header for Doxygen -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libSBML C API: Detailed explanation of each package extension class</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="sbml.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="libsbml-doxygen-stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBML C API
   &#160;<span id="projectnumber">5.18.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="group__core.html"><span>Core&#160;libSBML</span></a></li>
      <li><a href="usergroup0.html"><span>Level&#160;3&#160;Extensions</span></a></li>
      <li><a href="annotated.html"><span>Structures,&#160;functions</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="libsbml-example-files-c.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('libsbml-extension-support-classes.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Detailed explanation of each package extension class </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ext-sbaseextensionpoint">SBaseExtensionPoint_t</a></li>
<li class="level1"><a href="#ext-sbaseplugin">SBasePlugin_t</a></li>
<li class="level1"><a href="#ext-sbaseplugincreator">SBasePluginCreator_t</a></li>
<li class="level1"><a href="#ext-sbmldocumentplugin">SBMLDocumentPlugin_t</a></li>
<li class="level1"><a href="#ext-sbmlextension">SBMLExtension_t</a></li>
<li class="level1"><a href="#ext-sbmlextensionexception">SBMLExtensionException_t</a></li>
<li class="level1"><a href="#ext-sbmlextensionnamespaces">SBMLExtensionNamespaces_t</a></li>
<li class="level1"><a href="#ext-sbmlextensionregister">SBMLExtensionRegister_t</a></li>
<li class="level1"><a href="#ext-sbmlextensionregistry">SBMLExtensionRegistry_t</a></li>
</ul>
</div>
<div class="textblock"><p>This section lists the classes available in libSBML as part of the facilities that enable the creation of extensions to support SBML Level&#160;3 packages. For each class, we provide a detailed explanation of how it is meant to be used in the implementation of a package extension. These classes are found in the directory <code>src/sbml/extension/</code> in the libSBML source code distribution.</p>
<p>The classes are listed in alphabetical order on this page, but this is not necessarily the most easily digestible order in which to read about the different classes. The introductory section, <a class="el" href="libsbml-basics-of-extensions.html">Summary of the package extension mechanism</a>, may be a better starting point for learning more about the libSBML package extension system.</p>
<h1><a class="anchor" id="ext-sbaseextensionpoint"></a>
SBaseExtensionPoint_t</h1>
<dl class="section user"><dt></dt><dd>This class is used as part of the mechanism that connects plugin objects (implemented using <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> or <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a>) to a given package extension. For instance, an implementation of an extended version of <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a> (e.g., <a class="el" href="group__layout.html#class_layout_model_plugin__t" title=" Extension of Model_t. ">LayoutModelPlugin_t</a> in the Layout package) would involve the creation of an extension point using <a class="el" href="class_s_base_extension_point__t.html" title=" Base class for extending SBML components ">SBaseExtensionPoint_t</a> and a mediator object created using <a class="el" href="group__core.html#class_s_base_plugin_creator__t" title=" Template for SBasePlugin_t factory objects. ">SBasePluginCreator_t</a>, to "plug" the extended <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a> object (<a class="el" href="group__layout.html#class_layout_model_plugin__t" title=" Extension of Model_t. ">LayoutModelPlugin_t</a>) into the overall <a class="el" href="group__layout.html#class_layout_extension__t" title=" Base extension class for the package. ">LayoutExtension_t</a> object.</dd></dl>
<p>The use of <a class="el" href="class_s_base_extension_point__t.html" title=" Base class for extending SBML components ">SBaseExtensionPoint_t</a> is relatively straightforward. The class needs to be used for each extended SBML object implemented using <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> or <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a>. Doing so requires knowing just two things:</p>
<ul>
<li>The short-form name of the <em>parent</em> package being extended. The parent package is often simply core SBML, identified in libSBML by the nickname <code>"core"</code>, but a SBML Level&#160;3 package could conceivably extend another Level&#160;3 package.</li>
</ul>
<ul>
<li>The libSBML type code assigned to the object being extended. For example, if an extension of <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a> is implemented, the relevant type code is SBMLTypeCode_t::SBML_MODEL, found in <a class="el" href="_s_b_m_l_type_codes_8h.html#aa283dddfd7671179362b2f38e2938cfe" title="The enumeration of possible SBML core object types. ">SBMLTypeCode_t</a>.</li>
</ul>
<p>The typical use of <a class="el" href="class_s_base_extension_point__t.html" title=" Base class for extending SBML components ">SBaseExtensionPoint_t</a> is illustrated by the following code fragment:</p>
<div class="fragment"><div class="line"><a class="code" href="class_s_base_extension_point__t.html">SBaseExtensionPoint_t</a> docExtPoint(<span class="stringliteral">&quot;core&quot;</span>, <a class="code" href="_s_b_m_l_type_codes_8h.html#aa283dddfd7671179362b2f38e2938cfeabfe976c674a5a708c1373dfdfa3bfa63">SBML_DOCUMENT</a>);</div><div class="line"><a class="code" href="class_s_base_extension_point__t.html">SBaseExtensionPoint_t</a> modelExtPoint(<span class="stringliteral">&quot;core&quot;</span>, <a class="code" href="_s_b_m_l_type_codes_8h.html#aa283dddfd7671179362b2f38e2938cfea3c866be107d7858b6dd1e978ed103028">SBML_MODEL</a>);</div><div class="line"></div><div class="line"><a class="code" href="group__core.html#class_s_base_plugin_creator__t">SBasePluginCreator_t&lt;GroupsSBMLDocumentPlugin_t, GroupsExtension_t&gt;</a> docPluginCreator(docExtPoint, pkgURIs);</div><div class="line"><a class="code" href="group__core.html#class_s_base_plugin_creator__t">SBasePluginCreator_t&lt;GroupsModelPlugin_t, GroupsExtension_t&gt;</a> modelPluginCreator(modelExtPoint, pkgURIs);</div></div><!-- fragment --><p>The code above shows two core SBML components being extended: the document object, and the <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a> object. These extended objects are created elsewhere (not shown) as the <code><a class="el" href="group__groups.html#class_groups_s_b_m_l_document_plugin__t" title=" Extension of SBMLDocument_t. ">GroupsSBMLDocumentPlugin_t</a></code> and <code><a class="el" href="class_groups_model_plugin__t.html" title=" Extension of Model_t. ">GroupsModelPlugin_t</a></code> objects. The corresponding <a class="el" href="class_s_base_extension_point__t.html" title=" Base class for extending SBML components ">SBaseExtensionPoint_t</a> objects are handed as arguments to the constructor for <a class="el" href="group__core.html#class_s_base_plugin_creator__t" title=" Template for SBasePlugin_t factory objects. ">SBasePluginCreator_t</a> to create the connection between the extended core components and the overall package extension (here, for the Groups package, with the <code><a class="el" href="group__groups.html#class_groups_extension__t" title=" Base extension class for the package. ">GroupsExtension_t</a></code> object).</p>
<p>The code above is typically placed in the implementation of the <code>init()</code> method of the package class derived from <a class="el" href="class_s_b_m_l_extension__t.html" title=" Base class for SBML Level 3 package plug-ins. ">SBMLExtension_t</a>. (For the example above, it would be in the <code><a class="el" href="_groups_extension_8cpp.html" title="Implementation of GroupsExtension_t. ">GroupsExtension.cpp</a></code> file.)</p>
<h1><a class="anchor" id="ext-sbaseplugin"></a>
SBasePlugin_t</h1>
<dl class="section user"><dt></dt><dd>LibSBML package extensions can extend existing libSBML objects such as <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a> using <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> as a base class, to hold attributes and/or subcomponents necessary for the SBML package being implemented. Package developers must implement an <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> extended class for each element to be extended (e.g., <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a>, <a class="el" href="class_reaction__t.html" title=" An SBML reaction between species in an SBML model. ">Reaction_t</a>, and others) where additional attributes and/or top-level objects of the package extension are directly contained. The following subsections detail the basic steps necessary to use <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> for the implementation of a class extension.</dd></dl>
<h2><a class="anchor" id="sbp-identify"></a>
1. Identify the SBML components that need to be extended</h2>
<p>The specification for a SBML Level&#160;3 package will define the attributes and subojects that make up the package constructs. Those constructs that modify existing SBML components such as <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a>, <a class="el" href="class_reaction__t.html" title=" An SBML reaction between species in an SBML model. ">Reaction_t</a>, etc., will be the ones that need to be extended using <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a>.</p>
<p>For example, the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package makes additions to <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a>, <a class="el" href="class_species_reference__t.html" title=" A reference to an SBML species in a reaction. ">SpeciesReference_t</a>, and the <code>&lt;sbml&gt;</code> element (which is represented in libSBML by <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a>). This means that the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package extension in libSBML needs to define extended versions of <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a>, <a class="el" href="class_species_reference__t.html" title=" A reference to an SBML species in a reaction. ">SpeciesReference_t</a> and <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a>. Elements <em>other</em> than the SBML document need to be implemented using <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a>; the document component must be implemented using <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> instead.</p>
<h2><a class="anchor" id="sbp-implement"></a>
2. Create a SBasePlugin_t subclass for each extended SBML component</h2>
<p>A new class definition that subclasses <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> needs to be created for each SBML component to be extended by the package. For instance, the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package needs <a class="el" href="group__layout.html#class_layout_model_plugin__t" title=" Extension of Model_t. ">LayoutModelPlugin_t</a> and <a class="el" href="group__layout.html#class_layout_species_reference_plugin__t" title=" Extension of SpeciesReference_t. ">LayoutSpeciesReferencePlugin_t</a>. (As mentioned above, the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> class also needs <a class="el" href="group__layout.html#class_layout_s_b_m_l_document_plugin__t" title=" Extension of SBMLDocument_t. ">LayoutSBMLDocumentPlugin_t</a>, but this one is implemented using <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> instead of <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a>.) Below, we describe in detail the different parts of an <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> subclass definition.</p>
<h3><a class="anchor" id="sbp-protected"></a>
2.1 Define protected data members</h3>
<p>Data attributes on each extended class in an SBML package will have one of the data types <code>std::string</code>, <code>double</code>, <code>int</code>, or <code>bool</code>. Subelements/subobjects will normally be derived from the <a class="el" href="class_list_of__t.html" title=" Parent class for libSBML&#39;s &quot;ListOfXYZ&quot; classes. ">ListOf_t</a> class or from <a class="el" href="class_s_base__t.html" title=" SBML&#39;s SBase class, base class of most SBML objects. ">SBase_t</a>.</p>
<p>The additional data members must be properly initialized in the class constructor, and must be properly copied in the copy constructor and assignment operator. For example, the following data member is defined in the <code><a class="el" href="class_groups_model_plugin__t.html" title=" Extension of Model_t. ">GroupsModelPlugin_t</a></code> class (in the file <code><a class="el" href="_groups_model_plugin_8h.html" title="Definition of the GroupsModelPlugin_t class. ">GroupsModelPlugin.h</a></code>): </p><div class="fragment"><div class="line"><a class="code" href="class_list_of_groups__t.html">ListOfGroups_t</a> mGroups;</div></div><!-- fragment --><h3><a class="anchor" id="sbp-class-methods"></a>
2.2 Override SBasePlugin_t class-related methods</h3>
<p>The derived class must override the constructor, copy constructor, assignment operator (<code>operator=</code>) and <code>clone()</code> methods from <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a>.</p>
<h3><a class="anchor" id="sbp-methods-attribs"></a>
2.3 Override SBasePlugin_t virtual methods for attributes</h3>
<p>If the extended component is defined by the SBML Level&#160;3 package to have attributes, then the extended class definition needs to override the following internal methods on <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> and provide appropriate implementations:</p>
<ul>
<li><code>addExpectedAttributes(ExpectedAttributes&amp; attributes)</code>: This method should add the attributes that are expected to be found on this kind of extended component in an SBML file or data stream.</li>
</ul>
<ul>
<li><code>readAttributes(<a class="el" href="class_x_m_l_attributes__t.html" title=" A list of attributes on an XML element. ">XMLAttributes_t</a>&amp; attributes, ExpectedAttributes&amp; expectedAttributes)</code>: This method should read the attributes expected to be found on this kind of extended component in an SBML file or data stream.</li>
</ul>
<ul>
<li><code>hasRequiredAttributes()</code>: This method should return <code>true</code> if all of the required attribute for this extended component are present on instance of the object.</li>
</ul>
<ul>
<li><code>writeAttributes(XMLOutputStream_t&amp; stream)</code>: This method should write out the attributes of an extended component. The implementation should use the different kinds of <code>writeAttribute</code> methods defined by <a class="el" href="class_x_m_l_output_stream__t.html" title=" Interface to an XML output stream. ">XMLOutputStream_t</a> to achieve this.</li>
</ul>
<h3><a class="anchor" id="sbp-methods-elem"></a>
2.4 Override SBasePlugin_t virtual methods for subcomponents</h3>
<p>If the extended component is defined by the Level&#160;3 package to have subcomponents (i.e., full XML elements rather than mere attributes), then the extended class definition needs to override the following internal <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> methods and provide appropriate implementations:</p>
<ul>
<li><code>createObject(XMLInputStream_t&amp; stream)</code>: Subclasses must override this method to create, store, and then return an SBML object corresponding to the next <a class="el" href="class_x_m_l_token__t.html" title=" A token in an XML stream. ">XMLToken_t</a> in the <a class="el" href="class_x_m_l_input_stream__t.html" title=" An interface to an XML input stream. ">XMLInputStream_t</a>. To do this, implementations can use methods like <code>peek()</code> on <a class="el" href="class_x_m_l_input_stream__t.html" title=" An interface to an XML input stream. ">XMLInputStream_t</a> to test if the next object in the stream is something expected for the package. For example, <a class="el" href="group__layout.html#class_layout_model_plugin__t" title=" Extension of Model_t. ">LayoutModelPlugin_t</a> uses <code>peek()</code> to examine the next element in the input stream, then tests that element against the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> namespace and the element name <code>"listOfLayouts"</code> to see if it's the single subcomponent (ListOfLayouts_t) permitted on a <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a> object using the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package. If it is, it returns the appropriate object.</li>
</ul>
<ul>
<li><code>connectToParent(SBase_t *sbase)</code>: This creates a parent-child relationship between a given extended component and its subcomponent(s).</li>
</ul>
<ul>
<li><code>setSBMLDocument(SBMLDocument_t* d)</code>: This method should set the parent <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> object on the subcomponent object instances, so that the subcomponent instances know which <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> contains them.</li>
</ul>
<ul>
<li><code>enablePackageInternal(std::string&amp; pkgURI, std::string&amp; pkgPrefix, bool flag)</code>: This method should enable or disable the subcomponent based on whether a given XML namespace is active.</li>
</ul>
<ul>
<li><code>writeElements(XMLOutputStream_t&amp; stream)</code>: This method must be overridden to provide an implementation that will write out the expected subcomponents/subelements to the XML output stream.</li>
</ul>
<ul>
<li><code>readOtherXML(SBase_t* parentObject, XMLInputStream_t&amp; stream)</code>: This function should be overridden if elements of annotation, notes, MathML content, etc., need to be directly parsed from the given <a class="el" href="class_x_m_l_input_stream__t.html" title=" An interface to an XML input stream. ">XMLInputStream_t</a> object.</li>
</ul>
<ul>
<li><code>hasRequiredElements()</code>: This method should return <code>true</code> if a given object contains all the required subcomponents defined by the specification for that SBML Level&#160;3 package.</li>
</ul>
<h3><a class="anchor" id="sbp-methods-xmlns"></a>
2.5 Override SBasePlugin_t virtual methods for XML namespaces</h3>
<p>If the package needs to add additional <code>xmlns</code> attributes to declare additional XML namespace URIs, the extended class should override the following method:</p>
<ul>
<li><code>writeXMLNS(XMLOutputStream_t&amp; stream)</code>: This method should write out any additional XML namespaces that might be needed by a package implementation.</li>
</ul>
<h3><a class="anchor" id="sbp-methods-hooks"></a>
2.6 Implement additional methods as needed</h3>
<p>Extended component implementations can add whatever additional utility methods are useful for their implementation.</p>
<h1><a class="anchor" id="ext-sbaseplugincreator"></a>
SBasePluginCreator_t</h1>
<h1><a class="anchor" id="ext-sbmldocumentplugin"></a>
SBMLDocumentPlugin_t</h1>
<dl class="section user"><dt></dt><dd>The following subsections detail the basic steps necessary to use <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> to extend <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> for a given package extension.</dd></dl>
<h2><a class="anchor" id="sdp-identify"></a>
1. Identify the changes necessary to SBMLDocument_t</h2>
<p>The specification for a SBML Level&#160;3 package will define the changes to the SBML <code>&lt;sbml&gt;</code> element. Packages typically do not make any changes beyond adding an attribute named "required" (discussed below), so in most cases, the extension of <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> is very simple. However, some packages do more. For instance, the Hierarchical Model Composition package adds subobjects for lists of model definitions. <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> supports all these cases.</p>
<h2><a class="anchor" id="sdp-implement"></a>
2. Create the SBMLDocumentPlugin_t subclass</h2>
<p>A package extension will only define one subclass of <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a>. Below, we describe in detail the different parts of a subclass definition.</p>
<h3><a class="anchor" id="sdp-class"></a>
2.1 Override SBasePlugin_t class-related methods</h3>
<p>The derived class must override the constructor, copy constructor, assignment operator (<code>operator=</code>) and <code>clone()</code> methods from <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a>.</p>
<h3><a class="anchor" id="sdp-required"></a>
2.2 Determine the necessary value of the "required" attribute</h3>
<p>At minimum, it is necessary for a package implementation to add the "required" attribute to the SBML <code>&lt;sbml&gt;</code> element mandated by SBML for all Level&#160;3 packages, and this is done using this class as a base. If the 'required' attribute is the <em>only</em> addition necessary for a particular SBML Level&#160;3 package, then the subclass of <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> for the package can have a very simple implementation. Some Level&#160;3 packages add additional attributes or elements to <code>&lt;sbml&gt;</code>, and their implementations would go into the subclassed <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a>.</p>
<p><a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> provides methods with default implementations that support managing the "required" attribute, so package extension code does not need to provide implementations&mdash;they only need to set the correct value for the SBML Level&#160;3 package based on its specification. The following are the virtual methods for working with the "required" attribute. Package extensions would only need to override them in special circumstances:</p>
<ul>
<li><code>setRequired(bool value)</code>: This method sets the value of the flag.</li>
</ul>
<ul>
<li><code>getRequired()</code>: This method gets the value of the "required" flag.</li>
</ul>
<ul>
<li><code>isSetRequired()</code>: This method tests if the value has been set.</li>
</ul>
<ul>
<li><code>unsetRequired()</code>: This method unsets the value of the "required" flag.</li>
</ul>
<h3><a class="anchor" id="sdp-protected"></a>
2.3 Define protected data members</h3>
<p>An extended <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> object may need more than just the "required" attribute, depending on what is defined in the specification for the package being implemented. Data attributes on the extended <code>&lt;sbml&gt;</code> object in an SBML package will have one of the data types <code>std::string</code>, <code>double</code>, <code>int</code>, or <code>bool</code>. Subelements/subobjects will normally be derived from the <a class="el" href="class_list_of__t.html" title=" Parent class for libSBML&#39;s &quot;ListOfXYZ&quot; classes. ">ListOf_t</a> class or from <a class="el" href="class_s_base__t.html" title=" SBML&#39;s SBase class, base class of most SBML objects. ">SBase_t</a>.</p>
<p>The additional data members must be properly initialized in the class constructor, and must be properly copied in the copy constructor and assignment operator.</p>
<h3><a class="anchor" id="sdp-methods-attribs"></a>
2.4 Override virtual methods for attributes</h3>
<p>If the extended component is defined by the SBML Level&#160;3 package to have attributes, then the extended <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> class definition needs to override the following internal methods that come from <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> (the base class of <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a>) and provide appropriate implementations:</p>
<ul>
<li><code>addExpectedAttributes(ExpectedAttributes&amp; attributes)</code>: This method should add the attributes that are expected to be found on this kind of extended component in an SBML file or data stream.</li>
</ul>
<ul>
<li><code>readAttributes(<a class="el" href="class_x_m_l_attributes__t.html" title=" A list of attributes on an XML element. ">XMLAttributes_t</a>&amp; attributes, ExpectedAttributes&amp; expectedAttributes)</code>: This method should read the attributes expected to be found on this kind of extended component in an SBML file or data stream.</li>
</ul>
<ul>
<li><code>hasRequiredAttributes()</code>: This method should return <code>true</code> if all of the required attribute for this extended component are present on instance of the object.</li>
</ul>
<ul>
<li><code>writeAttributes(XMLOutputStream_t&amp; stream)</code>: This method should write out the attributes of an extended component. The implementation should use the different kinds of <code>writeAttribute</code> methods defined by <a class="el" href="class_x_m_l_output_stream__t.html" title=" Interface to an XML output stream. ">XMLOutputStream_t</a> to achieve this.</li>
</ul>
<h3><a class="anchor" id="sdp-methods-elem"></a>
2.5 Override virtual methods for subcomponents</h3>
<p>If the extended component is defined by the Level&#160;3 package to have subcomponents (i.e., full XML elements rather than mere attributes), then the extended class definition needs to override the following internal methods on <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> (the base class of <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a>) and provide appropriate implementations:</p>
<ul>
<li><code>createObject(XMLInputStream_t&amp; stream)</code>: Subclasses must override this method to create, store, and then return an SBML object corresponding to the next <a class="el" href="class_x_m_l_token__t.html" title=" A token in an XML stream. ">XMLToken_t</a> in the <a class="el" href="class_x_m_l_input_stream__t.html" title=" An interface to an XML input stream. ">XMLInputStream_t</a>. To do this, implementations can use methods like <code>peek()</code> on <a class="el" href="class_x_m_l_input_stream__t.html" title=" An interface to an XML input stream. ">XMLInputStream_t</a> to test if the next object in the stream is something expected for the package. For example, <a class="el" href="group__layout.html#class_layout_model_plugin__t" title=" Extension of Model_t. ">LayoutModelPlugin_t</a> uses <code>peek()</code> to examine the next element in the input stream, then tests that element against the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> namespace and the element name <code>"listOfLayouts"</code> to see if it's the single subcomponent (ListOfLayouts_t) permitted on a <a class="el" href="class_model__t.html" title=" An SBML model. ">Model_t</a> object using the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package. If it is, it returns the appropriate object.</li>
</ul>
<ul>
<li><code>connectToParent(SBase_t *sbase)</code>: This creates a parent-child relationship between a given extended component and its subcomponent(s).</li>
</ul>
<ul>
<li><code>setSBMLDocument(SBMLDocument_t* d)</code>: This method should set the parent <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> object on the subcomponent object instances, so that the subcomponent instances know which <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> contains them.</li>
</ul>
<ul>
<li><code>enablePackageInternal(std::string&amp; pkgURI, std::string&amp; pkgPrefix, bool flag)</code>: This method should enable or disable the subcomponent based on whether a given XML namespace is active.</li>
</ul>
<ul>
<li><code>writeElements(XMLOutputStream_t&amp; stream)</code>: This method must be overridden to provide an implementation that will write out the expected subcomponents/subelements to the XML output stream.</li>
</ul>
<ul>
<li><code>readOtherXML(SBase_t* parentObject, XMLInputStream_t&amp; stream)</code>: This function should be overridden if elements of annotation, notes, MathML content, etc., need to be directly parsed from the given <a class="el" href="class_x_m_l_input_stream__t.html" title=" An interface to an XML input stream. ">XMLInputStream_t</a> object.</li>
</ul>
<ul>
<li><code>hasRequiredElements()</code>: This method should return <code>true</code> if a given object contains all the required subcomponents defined by the specification for that SBML Level&#160;3 package.</li>
</ul>
<h3><a class="anchor" id="sdp-methods-xmlns"></a>
2.6 Override virtual methods for XML namespaces</h3>
<p>If the package needs to add additional <code>xmlns</code> attributes to declare additional XML namespace URIs, the extended class should override the following method coming from <a class="el" href="class_s_base_plugin__t.html" title=" Base class for extending SBML objects in packages. ">SBasePlugin_t</a> (the parent class of <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a>):</p>
<ul>
<li><code>writeXMLNS(XMLOutputStream_t&amp; stream)</code>: This method should write out any additional XML namespaces that might be needed by a package implementation.</li>
</ul>
<h3><a class="anchor" id="sdp-methods-hooks"></a>
2.7 Implement additional methods as needed</h3>
<p>Extended <a class="el" href="class_s_b_m_l_document_plugin__t.html" title=" Base class for extending SBMLDocument_t in packages. ">SBMLDocumentPlugin_t</a> implementations can add whatever additional utility methods are useful for their implementation.</p>
<h1><a class="anchor" id="ext-sbmlextension"></a>
SBMLExtension_t</h1>
<dl class="section user"><dt></dt><dd>Each package implementation must contain a class that extends <a class="el" href="class_s_b_m_l_extension__t.html" title=" Base class for SBML Level 3 package plug-ins. ">SBMLExtension_t</a>. For example, the class <code><a class="el" href="group__groups.html#class_groups_extension__t" title=" Base extension class for the package. ">GroupsExtension_t</a></code> serves this purpose for the SBML Level&#160;3 <em>Groups</em> package extension in libSBML. The following subsections detail the basic steps involved in implementing such an extended class.</dd></dl>
<h2><a class="anchor" id="ext-getpackagename"></a>
1. Define the getPackageName() method</h2>
<p>Define a method named <code>getPackageName()</code> that returns the name of the package as a string. The following is an example from the implementation of the Groups package extension: </p><div class="fragment"><div class="line"><span class="keyword">const</span> std::string&amp; GroupsExtension_t::getPackageName ()</div><div class="line">{</div><div class="line">      <span class="keyword">static</span> <span class="keyword">const</span> std::string pkgName = <span class="stringliteral">&quot;groups&quot;</span>;</div><div class="line">      <span class="keywordflow">return</span> pkgName;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="ext-version-methods"></a>
2. Define methods returning package version information</h2>
<p>Define a set of methods that return the default SBML Level, SBML Version and version of the package. These methods must be named <code>getDefaultLevel()</code>, <code>getDefaultVersion()</code> and <code>getDefaultPackageVersion()</code>, respectively. The following are examples drawn from the Groups package implementation: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> GroupsExtension_t::getDefaultLevel()</div><div class="line">{</div><div class="line">      <span class="keywordflow">return</span> 3;</div><div class="line">}</div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> GroupsExtension_t::getDefaultVersion()</div><div class="line">{</div><div class="line">      <span class="keywordflow">return</span> 1;</div><div class="line">}</div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> GroupsExtension_t::getDefaultPackageVersion()</div><div class="line">{</div><div class="line">      <span class="keywordflow">return</span> 1;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="ext-ns"></a>
3. Define methods returning the package namespace URIs</h2>
<p>Define methods that return strings representing the XML namespace URI for the package. One method should be defined for each SBML Level/Version combination for which the package can be used. For instance, if a package is only usable in SBML Level&#160;3 Version&#160;1, and the libSBML extension for the package implements version&#160;1 of the package, the necessary method is <code>getXmlnsL3V1V1()</code>. </p><div class="fragment"><div class="line"><span class="keyword">const</span> std::string&amp; GroupsExtension_t::getXmlnsL3V1V1 ()</div><div class="line">{</div><div class="line">      <span class="keyword">static</span> <span class="keyword">const</span> std::string xmlns = <span class="stringliteral">&quot;http://www.sbml.org/sbml/level3/version1/groups/version1&quot;</span>;</div><div class="line">      <span class="keywordflow">return</span> xmlns;</div><div class="line">}</div></div><!-- fragment --><p>Define other similar methods to return additional namespace URIs if the package extension implements other package versions or supports other SBML Level/Version combinations.</p>
<h2><a class="anchor" id="ext-virtual"></a>
4. Override basic pure virtual methods</h2>
<p>Override the following pure virtual methods on <a class="el" href="class_s_b_m_l_extension__t.html" title=" Base class for SBML Level 3 package plug-ins. ">SBMLExtension_t</a>:</p>
<ul>
<li><code>virtual const std::string&amp; getName() const =0</code>. This method returns the nickname of the package (e.g., "layout", "groups").</li>
</ul>
<ul>
<li><code>virtual unsigned int getLevel(const std::string &amp;uri) const =0</code>. This method returns the SBML Level with the given URI of this package.</li>
</ul>
<ul>
<li><code>virtual unsigned int getVersion(const std::string &amp;uri) const =0</code>. This method returns the SBML Version with the given URI of this package.</li>
</ul>
<ul>
<li><code>virtual unsigned int getPackageVersion(const std::string &amp;uri) const =0</code>. This method returns the package version with the given URI of this package.</li>
</ul>
<ul>
<li><code>virtual unsigned int getURI(unsigned int sbmlLevel, unsigned int sbmlVersion, unsigned int pkgVersion) const =0</code>. This method returns the URI (namespace) of the package corresponding to the combination of the given SBML Level, SBML Version, and package version</li>
</ul>
<ul>
<li><code>virtual SBMLExtension_t* clone() const = 0</code>. This method creates and returns a deep copy of this derived object.</li>
</ul>
<p>As an example, the following are the versions of these methods for the Groups package: </p><div class="fragment"><div class="line"><span class="keyword">const</span> std::string&amp; GroupsExtension_t::getName()<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  <span class="keywordflow">return</span> getPackageName();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> GroupsExtension_t::getLevel(<span class="keyword">const</span> std::string &amp;uri)<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  <span class="keywordflow">if</span> (uri == getXmlnsL3V1V1())</div><div class="line">    <span class="keywordflow">return</span> 3;</div><div class="line">  <span class="keywordflow">else</span></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> GroupsExtension_t::getVersion(<span class="keyword">const</span> std::string &amp;uri)<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  <span class="keywordflow">if</span> (uri == getXmlnsL3V1V1())</div><div class="line">    <span class="keywordflow">return</span> 1;</div><div class="line">  <span class="keywordflow">else</span></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> GroupsExtension_t::getPackageVersion(<span class="keyword">const</span> std::string &amp;uri)<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  <span class="keywordflow">if</span> (uri == getXmlnsL3V1V1())</div><div class="line">    <span class="keywordflow">return</span> 1;</div><div class="line">  <span class="keywordflow">else</span></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">const</span> std::string&amp; GroupsExtension_t::getURI(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sbmlLevel,</div><div class="line">                                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sbmlVersion,</div><div class="line">                                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pkgVersion)<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  <span class="keywordflow">if</span> (sbmlLevel == 3 &amp;&amp; sbmlVersion == 1 &amp;&amp; pkgVersion == 1)</div><div class="line">    <span class="keywordflow">return</span> getXmlnsL3V1V1();</div><div class="line"></div><div class="line">  <span class="keyword">static</span> std::string empty = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line">  <span class="keywordflow">return</span> empty;</div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="group__groups.html#class_groups_extension__t">GroupsExtension_t</a>* GroupsExtension_t::clone()<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="group__groups.html#class_groups_extension__t">GroupsExtension_t</a>(*<span class="keyword">this</span>);</div><div class="line">}</div></div><!-- fragment --><p>Constructor, copy constructor, and destructor methods also must be overridden if additional data members are defined in the derived class.</p>
<h2><a class="anchor" id="ext-typedef"></a>
5. Create SBMLExtensionNamespaces_t-related definitions</h2>
<p>Define typedef and template instantiation code for a package-specific subclass of the <a class="el" href="class_s_b_m_l_extension_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLExtensionNamespaces_t</a> template class. The <a class="el" href="class_s_b_m_l_extension_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLExtensionNamespaces_t</a> template class is a derived class of <a class="el" href="class_s_b_m_l_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLNamespaces_t</a> and can be used as an argument of constructors of SBase_t-derived classes defined in the package extensions.</p>
<ol>
<li>
<p class="startli">Define a typedef. For example, the typedef for <code><a class="el" href="group__groups.html#class_groups_extension__t" title=" Base extension class for the package. ">GroupsExtension_t</a></code> is implemented in the file <code><a class="el" href="_groups_extension_8h.html" title="Definition of GroupsExtension_t. ">GroupsExtension.h</a></code> as follows: </p><div class="fragment"><div class="line"><span class="comment">// GroupsPkgNamespaces_t is derived from the SBMLNamespaces_t class.</span></div><div class="line"><span class="comment">// It is used when creating a Groups package object of a class</span></div><div class="line"><span class="comment">// derived from SBase_t.</span></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="class_s_b_m_l_extension_namespaces__t.html">SBMLExtensionNamespaces_t&lt;GroupsExtension_t&gt;</a> <a class="code" href="group__groups.html#class_groups_pkg_namespaces__t">GroupsPkgNamespaces_t</a>;</div></div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli">Define a template instantiation for the typedef. For example, the template instantiation code for <code><a class="el" href="group__groups.html#class_groups_extension__t" title=" Base extension class for the package. ">GroupsExtension_t</a> is</code> implemented in the file <code><a class="el" href="_groups_extension_8cpp.html" title="Implementation of GroupsExtension_t. ">GroupsExtension.cpp</a></code> as follows: </p><div class="fragment"><div class="line"><span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="extern_8h.html#a8e9e5118f0c55d410f8bc217f2954dbf">LIBSBML_EXTERN</a> <a class="code" href="class_s_b_m_l_extension_namespaces__t.html">SBMLExtensionNamespaces_t&lt;GroupsExtension_t&gt;</a>;</div></div><!-- fragment --> <p class="endli"></p>
</li>
</ol>
<p>Here is example of how the resulting class is used. The definitions above allow a <code><a class="el" href="group__groups.html#class_groups_pkg_namespaces__t" title=" SBMLNamespaces_t extension. ">GroupsPkgNamespaces_t</a></code> object to be used when creating a new <code><a class="el" href="class_group__t.html" title=" Representation of a group of SBML components. ">Group_t</a></code> object. The <code><a class="el" href="group__groups.html#class_groups_pkg_namespaces__t" title=" SBMLNamespaces_t extension. ">GroupsPkgNamespaces_t</a></code> is handed to the constructor as an argument, as shown below: </p><div class="fragment"><div class="line">GroupPkgNamespaces gpns(3, 1, 1);  <span class="comment">// SBML Level, Version, &amp; pkg version.</span></div><div class="line"><a class="code" href="class_group__t.html">Group_t</a> g = <span class="keyword">new</span> <a class="code" href="groupsfwd_8h.html#a31a01b53e0d2c954300ace12565831e8">Group_t</a>(&amp;gpns);        <span class="comment">// Creates a Group_t object.</span></div></div><!-- fragment --><p>The <code><a class="el" href="group__groups.html#class_groups_pkg_namespaces__t" title=" SBMLNamespaces_t extension. ">GroupsPkgNamespaces_t</a></code> object can also be used when creating an <a class="el" href="class_s_b_m_l_document__t.html" title=" Overall SBML container object. ">SBMLDocument_t</a> object with the Groups package. The code fragment below shows an example of this: </p><div class="fragment"><div class="line">GroupsPkgNamespaces_t gpns(3, 1, 1);</div><div class="line"><a class="code" href="class_s_b_m_l_document__t.html">SBMLDocument_t</a>* doc;</div><div class="line">doc  = <span class="keyword">new</span> <a class="code" href="class_s_b_m_l_document__t.html">SBMLDocument_t</a>(&amp;gnps);</div></div><!-- fragment --><h2><a class="anchor" id="ext-virtual-ns"></a>
6. Override the method getSBMLExtensionNamespaces()</h2>
<p>Override the pure virtual method <code>getSBMLExtensionNamespaces()</code>, which returns an <a class="el" href="class_s_b_m_l_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLNamespaces_t</a> derived object. For example, the method is overridden in the class <code><a class="el" href="group__groups.html#class_groups_extension__t" title=" Base extension class for the package. ">GroupsExtension_t</a></code> as follows: </p><div class="fragment"><div class="line"><a class="code" href="class_s_b_m_l_namespaces__t.html">SBMLNamespaces_t</a>*</div><div class="line">GroupsExtension_t::getSBMLExtensionNamespaces(<span class="keyword">const</span> std::string &amp;uri)<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  GroupsPkgNamespaces_t* pkgns = NULL;</div><div class="line">  <span class="keywordflow">if</span> ( uri == getXmlnsL3V1V1())</div><div class="line">  {</div><div class="line">    pkgns = <span class="keyword">new</span> GroupsPkgNamespaces_t(3, 1, 1);</div><div class="line">  }</div><div class="line">  <span class="keywordflow">return</span> pkgns;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="ext-enum"></a>
7. Define an enumeration for the package object type codes</h2>
<p>Define an enum type for representing the type code of the objects defined in the package extension. For example, the enumeration <code>SBMLGroupsTypeCode_t</code> for the Groups package is defined in <code><a class="el" href="_groups_extension_8h.html" title="Definition of GroupsExtension_t. ">GroupsExtension.h</a></code> as follows: </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span></div><div class="line">{</div><div class="line">   <a class="code" href="_groups_extension_8h.html#ac6f063dc09c903a23bda8915ec483e5fa8faef46f21ca5fc2ed74700ca56a87fd">SBML_GROUPS_GROUP</a>  = 500</div><div class="line"> , <a class="code" href="_groups_extension_8h.html#ac6f063dc09c903a23bda8915ec483e5fab6547504ac29cfad34abd06e6dede564">SBML_GROUPS_MEMBER</a> = 501</div><div class="line">} <a class="code" href="_groups_extension_8h.html#ac6f063dc09c903a23bda8915ec483e5f">SBMLGroupsTypeCode_t</a>;</div></div><!-- fragment --><p>In the enumeration above, <code>SBML_GROUPS_GROUP</code> corresponds to the <code><a class="el" href="class_group__t.html" title=" Representation of a group of SBML components. ">Group_t</a></code> class (for the <code>&lt;group&gt;</code> element defined by the SBML Level&#160;3 Groups package) and <code>SBML_GROUPS_MEMBER</code> corresponds to the <code><a class="el" href="class_member__t.html" title=" The Member_t class defines what objects are parts of a Group_t. ">Member_t</a></code> class (for the <code>&lt;member&gt;</code> element defined by the Level&#160;3 Groups package), respectively.</p>
<p>Similarly, <a class="el" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003d" title="SBMLFbcTypeCode_t Enumeration of possible types in the libSBML “layout” package implementation...">SBMLLayoutTypeCode_t</a> for the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package is defined in the file <code><a class="el" href="_layout_extension_8h.html" title="Definition of LayoutExtension_t, the core module of layout package. ">LayoutExtension.h</a></code> as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span></div><div class="line">{</div><div class="line">   <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da9c6961c2563597188f0955aac39c7bf1">SBML_LAYOUT_BOUNDINGBOX</a>           = 100</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003dac20a2ff8690f3f8da44218daaeb84375">SBML_LAYOUT_COMPARTMENTGLYPH</a>      = 101</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da72f4d4a407e1e653648f0dec34a7b1ae">SBML_LAYOUT_CUBICBEZIER</a>           = 102</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003dab4e75b4d488bdbd0b6378690b6595a77">SBML_LAYOUT_CURVE</a>                 = 103</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da81338762586722ef77ade2dc92696782">SBML_LAYOUT_DIMENSIONS</a>            = 104</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da6e26b91f1ca2e3a005fe5b0c9fd0718d">SBML_LAYOUT_GRAPHICALOBJECT</a>       = 105</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da7309d406d0253eeab3ef4d606d853ff3">SBML_LAYOUT_LAYOUT</a>                = 106</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da17bcc914af576880ea89d08385ac398b">SBML_LAYOUT_LINESEGMENT</a>           = 107</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da0731133b77e39feb1942970943a15142">SBML_LAYOUT_POINT</a>                 = 108</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da5b0c71c5883c5377e90d8c25c2d52882">SBML_LAYOUT_REACTIONGLYPH</a>         = 109</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003dac8677a437ee667bcfbaaefa44a862474">SBML_LAYOUT_SPECIESGLYPH</a>          = 110</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da195ba751b011c4dc6b8678cedd4c92c4">SBML_LAYOUT_SPECIESREFERENCEGLYPH</a> = 111</div><div class="line"> , <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da4d3d29d9fdbdfd2aa323830f6d68e3fe">SBML_LAYOUT_TEXTGLYPH</a>             = 112</div><div class="line">} <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003d">SBMLLayoutTypeCode_t</a>;</div></div><!-- fragment --><p>These enum values are returned by corresponding <code>getTypeCode()</code> methods. (E.g., <code>SBML_GROUPS_GROUP</code> is returned in <code>Group_t::getTypeCode()</code>.)</p>
<p>Note that libSBML does not require that type codes are unique across all packages&mdash;the same type codes may be used within individual package extensions. LibSBML development must permit this because package implementations are developed by separate groups at different times; coordinating the type codes used is impractical. It does mean that callers must check two things when identifying objects: to distinguish the type codes of different packages, callers much check not only the return value of the method <code>getTypeCode()</code> method but also that of the method <code>getPackageName()</code>. Here is an example of doing that: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> example (<span class="keyword">const</span> <a class="code" href="class_s_base__t.html">SBase_t</a> *sb)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string pkgName = sb-&gt;getPackageName();</div><div class="line">  <span class="keywordflow">if</span> (pkgName == <span class="stringliteral">&quot;core&quot;</span>) {</div><div class="line">    <span class="keywordflow">switch</span> (sb-&gt;getTypeCode()) {</div><div class="line">      <span class="keywordflow">case</span> <a class="code" href="_s_b_m_l_type_codes_8h.html#aa283dddfd7671179362b2f38e2938cfea3c866be107d7858b6dd1e978ed103028">SBML_MODEL</a>:</div><div class="line">         ....</div><div class="line">         <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a class="code" href="_s_b_m_l_type_codes_8h.html#aa283dddfd7671179362b2f38e2938cfea54de874fd61e13450bdf024d41a336c9">SBML_REACTION</a>:</div><div class="line">         ....</div><div class="line">    }</div><div class="line">  }</div><div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pkgName == <span class="stringliteral">&quot;layout&quot;</span>) {</div><div class="line">    <span class="keywordflow">switch</span> (sb-&gt;getTypeCode()) {</div><div class="line">      <span class="keywordflow">case</span> <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da7309d406d0253eeab3ef4d606d853ff3">SBML_LAYOUT_LAYOUT</a>:</div><div class="line">         ....</div><div class="line">         <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da5b0c71c5883c5377e90d8c25c2d52882">SBML_LAYOUT_REACTIONGLYPH</a>:</div><div class="line">         ....</div><div class="line">    }</div><div class="line">  }</div><div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pkgName == <span class="stringliteral">&quot;groups&quot;</span>) {</div><div class="line">    <span class="keywordflow">switch</span> (sb-&gt;getTypeCode()) {</div><div class="line">      <span class="keywordflow">case</span> <a class="code" href="_groups_extension_8h.html#ac6f063dc09c903a23bda8915ec483e5fa8faef46f21ca5fc2ed74700ca56a87fd">SBML_GROUPS_GROUP</a>:</div><div class="line">         ....</div><div class="line">         <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a class="code" href="_groups_extension_8h.html#ac6f063dc09c903a23bda8915ec483e5fab6547504ac29cfad34abd06e6dede564">SBML_GROUPS_MEMBER</a>:</div><div class="line">         ....</div><div class="line">    }</div><div class="line">  }</div><div class="line">  ...</div><div class="line">}</div></div><!-- fragment --><p>Readers may have noticed that in the <a class="el" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003d" title="SBMLFbcTypeCode_t Enumeration of possible types in the libSBML “layout” package implementation...">SBMLLayoutTypeCode_t</a> and <code>SBMLGroupsTypeCode_t</code> enumerations above, unique values are in fact assigned to the enumeration values. This can be convenient when it can be arranged, but it is not required by libSBML.</p>
<h2><a class="anchor" id="ext-virtual-typecodes"></a>
8. Override the method getStringFromTypeCode()</h2>
<p>Override the pure virtual method <code>getStringFromTypeCode()</code>, which returns a string corresponding to the given type code. Here is an example, again drawn from the implementation of the Groups package: </p><div class="fragment"><div class="line"><span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="class_s_b_m_l_extension__t.html">SBMLExtension_t</a>::(<span class="keywordtype">int</span> typeCode) <span class="keyword">const</span>;</div></div><!-- fragment --><p>For example, the method for the Groups extension is implemented as shown below: </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* SBML_GROUPS_TYPECODE_STRINGS[] =</div><div class="line">{</div><div class="line">    <span class="stringliteral">&quot;Group_t&quot;</span></div><div class="line">  , <span class="stringliteral">&quot;Member_t&quot;</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* GroupsExtension_t::getStringFromTypeCode(<span class="keywordtype">int</span> typeCode)<span class="keyword"> const</span></div><div class="line"><span class="keyword"></span>{</div><div class="line">  <span class="keywordtype">int</span> min = <a class="code" href="_groups_extension_8h.html#ac6f063dc09c903a23bda8915ec483e5fa8faef46f21ca5fc2ed74700ca56a87fd">SBML_GROUPS_GROUP</a>;</div><div class="line">  <span class="keywordtype">int</span> max = <a class="code" href="_groups_extension_8h.html#ac6f063dc09c903a23bda8915ec483e5fab6547504ac29cfad34abd06e6dede564">SBML_GROUPS_MEMBER</a>;</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (typeCode &lt; min || typeCode &gt; max)</div><div class="line">  {</div><div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;(Unknown SBML Groups Type)&quot;</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> SBML_GROUPS_TYPECODE_STRINGS[typeCode - min];</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="ext-init"></a>
9. Implement an init() method</h2>
<p>Implement a <code>static void init()</code> method in the derived class. This method serves to encapsulate initialization code that creates an instance of the derived class and registration code that registers the instance with the <a class="el" href="class_s_b_m_l_extension_registry__t.html" title=" Registry where package extensions are registered. ">SBMLExtensionRegistry_t</a> class.</p>
<p>For example, the <code>init()</code> method for the Groups package is implemented as follows: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> GroupsExtension_t::init()</div><div class="line">{</div><div class="line">  <span class="comment">// 1. Check if the Groups package has already been registered.</span></div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> ( SBMLExtensionRegistry_t::getInstance().isRegistered(getPackageName()) )</div><div class="line">  {</div><div class="line">    <span class="comment">// do nothing;</span></div><div class="line">    <span class="keywordflow">return</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// 2. Create an SBMLExtension_t derived object.</span></div><div class="line"></div><div class="line">  <a class="code" href="group__groups.html#class_groups_extension__t">GroupsExtension_t</a> gext;</div><div class="line"></div><div class="line">  <span class="comment">// 3. Create SBasePluginCreator_t-derived objects. The derived classes</span></div><div class="line">  <span class="comment">// can be instantiated by using the following template class:</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">//   template&lt;class SBasePluginType&gt; class SBasePluginCreator_t</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// The constructor of the creator class takes two arguments:</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// 1) SBaseExtensionPoint_t: extension point to which the plugin connects</span></div><div class="line">  <span class="comment">// 2) std::vector&lt;std::string&gt;: a vector that contains a list of URI</span></div><div class="line">  <span class="comment">// (package versions) supported by the plugin object.</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// For example, two plugin objects are required as part of the Groups</span></div><div class="line">  <span class="comment">// implementation: one plugged into SBMLDocument_t and one into Model_t.</span></div><div class="line">  <span class="comment">// For the former, since the specification for the SBML Groups package</span></div><div class="line">  <span class="comment">// mandates that the &#39;required&#39; flag is always &#39;false&#39;, the existing</span></div><div class="line">  <span class="comment">// SBMLDocumentPluginNotRequired_t class can be used as-is as part of</span></div><div class="line">  <span class="comment">// the implementation.  For Model_t, since the lists of supported</span></div><div class="line">  <span class="comment">// package versions (currently only SBML L3V1 Groups V1) are equal</span></div><div class="line">  <span class="comment">// in the both plugin objects, the same vector can be handed to each</span></div><div class="line">  <span class="comment">// constructor.</span></div><div class="line"></div><div class="line">  std::vector&lt;std::string&gt; pkgURIs;</div><div class="line">  pkgURIs.push_back(getXmlnsL3V1V1());</div><div class="line"></div><div class="line">  <a class="code" href="class_s_base_extension_point__t.html">SBaseExtensionPoint_t</a> docExtPoint(<span class="stringliteral">&quot;core&quot;</span>, <a class="code" href="_s_b_m_l_type_codes_8h.html#aa283dddfd7671179362b2f38e2938cfeabfe976c674a5a708c1373dfdfa3bfa63">SBML_DOCUMENT</a>);</div><div class="line">  <a class="code" href="class_s_base_extension_point__t.html">SBaseExtensionPoint_t</a> modelExtPoint(<span class="stringliteral">&quot;core&quot;</span>, <a class="code" href="_s_b_m_l_type_codes_8h.html#aa283dddfd7671179362b2f38e2938cfea3c866be107d7858b6dd1e978ed103028">SBML_MODEL</a>);</div><div class="line"></div><div class="line">  <a class="code" href="group__core.html#class_s_base_plugin_creator__t">SBasePluginCreator_t&lt;GroupsSBMLDocumentPlugin_t, GroupsExtension_t&gt;</a> docPluginCreator(docExtPoint, pkgURIs);</div><div class="line">  <a class="code" href="group__core.html#class_s_base_plugin_creator__t">SBasePluginCreator_t&lt;GroupsModelPlugin_t, GroupsExtension_t&gt;</a> modelPluginCreator(modelExtPoint, pkgURIs);</div><div class="line"></div><div class="line">  <span class="comment">// 4. Add the above objects to the SBMLExtension_t-derived object.</span></div><div class="line"></div><div class="line">  gext.addSBasePluginCreator(&amp;docPluginCreator);</div><div class="line">  gext.addSBasePluginCreator(&amp;modelPluginCreator);</div><div class="line"></div><div class="line">  <span class="comment">// 5. Register the SBMLExtension_t-derived object with the extension</span></div><div class="line">  <span class="comment">// registry, SBMLExtensionRegistry_t.</span></div><div class="line"></div><div class="line">  <span class="keywordtype">int</span> result = SBMLExtensionRegistry_t::getInstance().addExtension(&amp;gext);</div><div class="line">  <span class="keywordflow">if</span> (result != <a class="code" href="operation_return_values_8h.html#a87d90022619ee855654b2b8f4997886daf67ea900ebcd56036019237463be26b3">LIBSBML_OPERATION_SUCCESS</a>)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;[Error] GroupsExtension_t::init() failed.&quot;</span> &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="ext-extensionregister"></a>
10. Instantiate a SBMLExtensionRegister_t object</h2>
<p>Instantiate a global <a class="el" href="group__core.html#class_s_b_m_l_extension_register__t" title=" Template class for extension package registration ">SBMLExtensionRegister_t</a> object using the class derived from <a class="el" href="class_s_b_m_l_extension__t.html" title=" Base class for SBML Level 3 package plug-ins. ">SBMLExtension_t</a> (discussed above). Here is an example for the Groups package extension, for the object <code><a class="el" href="group__groups.html#class_groups_extension__t" title=" Base extension class for the package. ">GroupsExtension_t</a></code>. This could is placed in the <code><a class="el" href="_groups_extension_8cpp.html" title="Implementation of GroupsExtension_t. ">GroupsExtension.cpp</a></code>: </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__core.html#class_s_b_m_l_extension_register__t">SBMLExtensionRegister_t&lt;GroupsExtension_t&gt;</a> groupsExtensionRegister;</div></div><!-- fragment --><p>The <code>init()</code> method on <code><a class="el" href="group__groups.html#class_groups_extension__t" title=" Base extension class for the package. ">GroupsExtension_t</a></code> is automatically invoked when the "register" object is instantiated. This results in initialization and registration of the package extension with libSBML.</p>
<h1><a class="anchor" id="ext-sbmlextensionexception"></a>
SBMLExtensionException_t</h1>
<dl class="section user"><dt></dt><dd>Certain situations can result in an exception being thrown by libSBML package extensions. A prominent example involves the constructor for <a class="el" href="class_s_b_m_l_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLNamespaces_t</a> (and its subclasses), which will throw <a class="el" href="group__core.html#class_s_b_m_l_extension_exception__t" title=" Exception used by package extensions ">SBMLExtensionException_t</a> if the arguments it is given refer to an unknown SBML Level&#160;3 package. The situation can arise for legitimate SBML files if the necessary package extension has not been registered with a given copy of libSBML.</dd></dl>
<h1><a class="anchor" id="ext-sbmlextensionnamespaces"></a>
SBMLExtensionNamespaces_t</h1>
<dl class="section user"><dt></dt><dd>Each package extension in libSBML needs to extend and instantiate the template class <a class="el" href="class_s_b_m_l_extension_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLExtensionNamespaces_t</a>, as well as declare a specific <code>typedef</code>. The following sections explain these steps in detail.</dd></dl>
<h2><a class="anchor" id="sen-identify"></a>
1. Define the typedef</h2>
<p>Each package needs to declare a package-specific version of the <a class="el" href="class_s_b_m_l_extension_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLExtensionNamespaces_t</a> class using a <code>typedef</code>. The following example code demonstrates how this is done in the case of the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="class_s_b_m_l_extension_namespaces__t.html">SBMLExtensionNamespaces_t&lt;LayoutExtension_t&gt;</a> <a class="code" href="group__layout.html#class_layout_pkg_namespaces__t">LayoutPkgNamespaces_t</a>;</div></div><!-- fragment --><p>This creates a new type called <a class="el" href="group__layout.html#class_layout_pkg_namespaces__t" title=" SBMLNamespaces_t extension for the package. ">LayoutPkgNamespaces_t</a>. The code above is usually placed in the same file that contains the SBMLExtension_t-derived definition of the package extension base class. In the case of the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package, this is in the file <code>src/packages/layout/extension/LayoutExtension.h</code> in the libSBML source distribution.</p>
<h2><a class="anchor" id="sen-instantiate"></a>
2. Instantiate a template instance</h2>
<p>Each package needs to instantiate a template instance of the <a class="el" href="class_s_b_m_l_extension_namespaces__t.html" title=" Set of SBML Level + Version + namespace triples. ">SBMLExtensionNamespaces_t</a> class. The following example code demonstrates how this is done in the case of the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="extern_8h.html#a8e9e5118f0c55d410f8bc217f2954dbf">LIBSBML_EXTERN</a> <a class="code" href="class_s_b_m_l_extension_namespaces__t.html">SBMLExtensionNamespaces_t&lt;LayoutExtension_t&gt;</a>;</div></div><!-- fragment --><p>In the case of the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package, the code above is located in the file <code>src/packages/layout/extension/LayoutExtension.cpp</code> in the libSBML source distribution.</p>
<h2><a class="anchor" id="sen-derive"></a>
3. Create constructors that accept the class</h2>
<p>Each SBase_t-derived class in the package extension should implement a constructor that accepts the SBMLExtensionNamespaces_t-derived class as an argument. For example, in the <a class="el" href="class_layout__t.html" title=" The layout of a diagram of an SBML model. ">Layout_t</a> package, the class BoundBox has a constructor declared as follows</p>
<div class="fragment"><div class="line"><a class="code" href="layoutfwd_8h.html#a4fb85702bc96c78de3d193454a2680be">BoundingBox_t</a>(LayoutPkgNamespaces_t* layoutns);</div></div><!-- fragment --><p>The implementation of this constructor must, among other things, take the argument namespace object and use it to set the XML namespace URI for the object. Again, for the <a class="el" href="class_bounding_box__t.html" title=" A bounding box for an item in a diagram. ">BoundingBox_t</a> example:</p>
<div class="fragment"><div class="line"><a class="code" href="layoutfwd_8h.html#a4fb85702bc96c78de3d193454a2680be">BoundingBox_t::BoundingBox_t</a>(LayoutPkgNamespaces_t* layoutns)</div><div class="line"> : <a class="code" href="class_s_base__t.html">SBase_t</a>(layoutns)</div><div class="line">  ,mPosition(layoutns)</div><div class="line">  ,mDimensions(layoutns)</div><div class="line">  ,mPositionExplicitlySet (false)</div><div class="line">  ,mDimensionsExplicitlySet (false)</div><div class="line">{</div><div class="line">  <span class="comment">// Standard extension actions.</span></div><div class="line">  setElementNamespace(layoutns-&gt;getURI());</div><div class="line">  connectToChild();</div><div class="line"></div><div class="line">  <span class="comment">// Package-specific actions.</span></div><div class="line">  mPosition.setElementName(<span class="stringliteral">&quot;position&quot;</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Load package extensions bound with this object (if any).</span></div><div class="line">  loadPlugins(layoutns);</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="ext-sbmlextensionregister"></a>
SBMLExtensionRegister_t</h1>
<dl class="section user"><dt></dt><dd>When a package extension is first loaded, it must register itself with the registry of extensions maintained by the cleverly-named <a class="el" href="class_s_b_m_l_extension_registry__t.html" title=" Registry where package extensions are registered. ">SBMLExtensionRegistry_t</a> class. That registry is how other classes in libSBML access information about the packages recognized by a particular copy of libSML; a corollary is that libSBML can't parse or even recognize SBML Level&#160;3 packages that have no corresponding extension registered with <a class="el" href="class_s_b_m_l_extension_registry__t.html" title=" Registry where package extensions are registered. ">SBMLExtensionRegistry_t</a>.</dd></dl>
<p>The <a class="el" href="group__core.html#class_s_b_m_l_extension_register__t" title=" Template class for extension package registration ">SBMLExtensionRegister_t</a> class is a template class for automatically registering each package extension to the <a class="el" href="class_s_b_m_l_extension_registry__t.html" title=" Registry where package extensions are registered. ">SBMLExtensionRegistry_t</a> class at startup time. The class and its use are very simple. An implementation of a package extension merely needs to use it to instantiate one object. The class used in the template invocation should be the extension derived from <a class="el" href="class_s_b_m_l_extension__t.html" title=" Base class for SBML Level 3 package plug-ins. ">SBMLExtension_t</a> (e.g., <a class="el" href="group__layout.html#class_layout_extension__t" title=" Base extension class for the package. ">LayoutExtension_t</a> for the Layout package). The following is an example:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__core.html#class_s_b_m_l_extension_register__t">SBMLExtensionRegister_t&lt;LayoutExtension_t&gt;</a> layoutExtensionRegistry;</div></div><!-- fragment --><p>The line above is typically be placed in the <code>.cpp</code> file associated with the definition of the SBMLExtension_t-derived class; in the case of the Layout package, this is <code><a class="el" href="_layout_extension_8cpp.html" title="Implementation of LayoutExtension_t, the core module of layout package. ">LayoutExtension.cpp</a></code>.</p>
<p>The result of doing the above is that the <code>init()</code> method on <code><a class="el" href="group__layout.html#class_layout_extension__t" title=" Base extension class for the package. ">LayoutExtension_t</a></code> will be automatically invoked when the "register" object is instantiated. This results in initialization and registration of the package extension with libSBML.</p>
<h1><a class="anchor" id="ext-sbmlextensionregistry"></a>
SBMLExtensionRegistry_t</h1>
<dl class="section user"><dt></dt><dd>The package extension registry is implemented as a singleton instance of <a class="el" href="class_s_b_m_l_extension_registry__t.html" title=" Registry where package extensions are registered. ">SBMLExtensionRegistry_t</a>. The class provides only utility functionality; implementations of SBML packages do not need to implement any subclasses or methods of this class. <a class="el" href="class_s_b_m_l_extension_registry__t.html" title=" Registry where package extensions are registered. ">SBMLExtensionRegistry_t</a> is useful for its facilities to query the known packages, and to enable or disable packages selectively. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for Doxygen -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Visit <a href="http://sbml.org">SBML.org</a> for more information
    about SBML and libSBML.
    </li>
   </ul>
</div>
</body>
</html>
