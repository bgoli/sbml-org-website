<!-- HTML header for Doxygen -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libSBML C++ API: convertLayout.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="sbml.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="libSBML C++ API"/>
<link href="libsbml-doxygen-stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBML C++ API
   &#160;<span id="projectnumber">5.18.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="group__core.html"><span>Core&#160;libSBML</span></a></li>
      <li><a href="usergroup0.html"><span>Level&#160;3&#160;Extensions</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="libsbml-example-files.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('convert_layout_8cpp-example.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">convertLayout.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>Converts SBML <a class="el" href="class_layout.html" title=" The layout of a diagram of an SBML model. ">Layout</a> and Render datra from SBML Level&#160;2 to Level&#160;3 and vice versa.</p>
<div class="fragment"><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @file    convertLayout.cpp</span></div><div class="line"><span class="comment"> * @brief   Converts SBML Layout and Render Information from L2 to L3 and vice versa</span></div><div class="line"><span class="comment"> * @author  Frank Bergmann</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * This example implements two ways of converting the Layout / Render information</span></div><div class="line"><span class="comment"> * contained in the SBML file.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * method 1: Is implemented in the LayoutConverter class, it navigates through</span></div><div class="line"><span class="comment"> *           all classes of the Layout / Render extension and sets their element</span></div><div class="line"><span class="comment"> *           namespace to the new one.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * method 2: Is implemented in the SimpleLayoutConverter class. This class makes</span></div><div class="line"><span class="comment"> *           use of the new functionality of the elements reporting the namespace</span></div><div class="line"><span class="comment"> *           of the parent document when possible.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &lt;!--------------------------------------------------------------------------</span></div><div class="line"><span class="comment"> * This sample program is distributed under a different license than the rest</span></div><div class="line"><span class="comment"> * of libSBML.  This program uses the open-source MIT license, as follows:</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Copyright (c) 2013-2018 by the California Institute of Technology</span></div><div class="line"><span class="comment"> * (California, USA), the European Bioinformatics Institute (EMBL-EBI, UK)</span></div><div class="line"><span class="comment"> * and the University of Heidelberg (Germany), with support from the National</span></div><div class="line"><span class="comment"> * Institutes of Health (USA) under grant R01GM070923.  All rights reserved.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Permission is hereby granted, free of charge, to any person obtaining a</span></div><div class="line"><span class="comment"> * copy of this software and associated documentation files (the &quot;Software&quot;),</span></div><div class="line"><span class="comment"> * to deal in the Software without restriction, including without limitation</span></div><div class="line"><span class="comment"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</span></div><div class="line"><span class="comment"> * and/or sell copies of the Software, and to permit persons to whom the</span></div><div class="line"><span class="comment"> * Software is furnished to do so, subject to the following conditions:</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * The above copyright notice and this permission notice shall be included in</span></div><div class="line"><span class="comment"> * all copies or substantial portions of the Software.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div><div class="line"><span class="comment"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div><div class="line"><span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</span></div><div class="line"><span class="comment"> * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span></div><div class="line"><span class="comment"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</span></div><div class="line"><span class="comment"> * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</span></div><div class="line"><span class="comment"> * DEALINGS IN THE SOFTWARE.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Neither the name of the California Institute of Technology (Caltech), nor</span></div><div class="line"><span class="comment"> * of the European Bioinformatics Institute (EMBL-EBI), nor of the University</span></div><div class="line"><span class="comment"> * of Heidelberg, nor the names of any contributors, may be used to endorse</span></div><div class="line"><span class="comment"> * or promote products derived from this software without specific prior</span></div><div class="line"><span class="comment"> * written permission.</span></div><div class="line"><span class="comment"> * ------------------------------------------------------------------------ --&gt;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_s_b_m_l_types_8h.html">sbml/SBMLTypes.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_s_b_m_l_document_plugin_8h.html">sbml/extension/SBMLDocumentPlugin.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_conversion_properties_8h.html">sbml/conversion/ConversionProperties.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_layout_extension_types_8h.html">sbml/packages/layout/common/LayoutExtensionTypes.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_render_extension_types_8h.html">sbml/packages/render/common/RenderExtensionTypes.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#if (!defined LIBSBML_HAS_PACKAGE_LAYOUT)</span></div><div class="line"><span class="preprocessor">#error &quot;This example requires libSBML to be built with the layout extension.&quot;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="a0"></a><a class="code" href="libsbml-namespace_8h.html#afbb980e7a6c7711bfc7ba22289c033b8">LIBSBML_CPP_NAMESPACE_USE</a></div><div class="line"></div><div class="line"><span class="keyword">class </span>LayoutConverter</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line"></div><div class="line">  LayoutConverter(<a name="_a1"></a><a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a> *doc) {</div><div class="line">    _doc = doc;</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  LayoutConverter(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename) {</div><div class="line">    _doc = <a name="a2"></a><a class="code" href="_s_b_m_l_reader_8h.html#a433392e83590602299af5c058833a82d">readSBMLFromFile</a>(filename);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  ~LayoutConverter(){</div><div class="line">    <span class="keyword">delete</span> _doc;</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* getDocument()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _doc; }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> convertLayout()</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (_doc == NULL || _doc-&gt;getModel() == NULL)</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    <span class="comment">// if layout is not used bail</span></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>) == NULL) </div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;getLevel() == 3)</div><div class="line">      convertLayoutToL2();</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">      convertLayoutToL3();</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> convertLayoutToL2()</div><div class="line">  {    </div><div class="line">    <span class="keywordflow">if</span> (_doc == NULL || _doc-&gt;getModel() == NULL)</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    layoutNsUri = <span class="stringliteral">&quot;http://projects.eml.org/bcb/sbml/level2&quot;</span>;</div><div class="line">    layoutNs = <span class="keyword">new</span> <a name="a3"></a><a class="code" href="_layout_extension_8h.html#a063e6a6d033452af55abd11770e62e09">LayoutPkgNamespaces</a>(2, 1);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    foundRenderElements = <span class="keyword">false</span>;</div><div class="line">    renderNsUri = <span class="stringliteral">&quot;http://projects.eml.org/bcb/sbml/render/level2&quot;</span>;</div><div class="line">    renderNs = <span class="keyword">new</span> <a name="a4"></a><a class="code" href="_render_extension_8h.html#ace3a1a6a94cad016d73f438eb84caea9">RenderPkgNamespaces</a>(2, 1);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <a name="_a5"></a><a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>* plugin</div><div class="line">      = (<a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>*)_doc-&gt;getModel()-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (plugin == NULL) </div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line"></div><div class="line">    <a name="_a6"></a><a class="code" href="class_conversion_properties.html">ConversionProperties</a> prop(<span class="keyword">new</span> <a name="_a7"></a><a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a>(2, 4));</div><div class="line">    prop.<a name="a8"></a><a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;strict&quot;</span>, <span class="keyword">false</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;setLevelAndVersion&quot;</span>, <span class="keyword">true</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;ignorePackages&quot;</span>, <span class="keyword">true</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;convert(prop) != <a name="a9"></a><a class="code" href="operation_return_values_8h.html#a87d90022619ee855654b2b8f4997886daf67ea900ebcd56036019237463be26b3">LIBSBML_OPERATION_SUCCESS</a>)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Conversion failed!&quot;</span> &lt;&lt; endl;</div><div class="line">      _doc-&gt;printErrors();</div><div class="line">      exit(2);  </div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    plugin-&gt;<a name="a10"></a><a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(layoutNsUri);</div><div class="line"></div><div class="line">    <a name="_a11"></a><a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *docPlugin = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (docPlugin != NULL)</div><div class="line">      docPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(layoutNsUri);</div><div class="line"></div><div class="line"></div><div class="line">    updateNs(plugin-&gt;<a name="a12"></a><a class="code" href="class_layout_model_plugin.html#a8d1441c97d13b500d8a54052264e21c5">getListOfLayouts</a>());</div><div class="line"></div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;removePackageNamespace(3, 1, <span class="stringliteral">&quot;layout&quot;</span>, 1);        </div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    <a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *rdocPlugin = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;render&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (rdocPlugin!= NULL)</div><div class="line">      rdocPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(renderNsUri);</div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;removePackageNamespace(3, 1, <span class="stringliteral">&quot;render&quot;</span>, 1);        </div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> convertLayoutToL3()</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (_doc == NULL || _doc-&gt;getModel() == NULL)</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line"></div><div class="line">    layoutNsUri = <span class="stringliteral">&quot;http://www.sbml.org/sbml/level3/version1/layout/version1&quot;</span>;</div><div class="line">    layoutNs = <span class="keyword">new</span> <a class="code" href="_layout_extension_8h.html#a063e6a6d033452af55abd11770e62e09">LayoutPkgNamespaces</a>(3, 1, 1);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    foundRenderElements = <span class="keyword">false</span>;</div><div class="line">    renderNsUri = <span class="stringliteral">&quot;http://www.sbml.org/sbml/level3/version1/render/version1&quot;</span>;</div><div class="line">    renderNs = <span class="keyword">new</span> <a class="code" href="_render_extension_8h.html#ace3a1a6a94cad016d73f438eb84caea9">RenderPkgNamespaces</a>(3, 1, 1);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>* plugin</div><div class="line">      = (<a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>*)_doc-&gt;getModel()-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (plugin == NULL) </div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line"></div><div class="line">    <a class="code" href="class_conversion_properties.html">ConversionProperties</a> prop(<span class="keyword">new</span> <a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a>(3, 1));</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;strict&quot;</span>, <span class="keyword">false</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;setLevelAndVersion&quot;</span>, <span class="keyword">true</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;ignorePackages&quot;</span>, <span class="keyword">true</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;convert(prop) != <a class="code" href="operation_return_values_8h.html#a87d90022619ee855654b2b8f4997886daf67ea900ebcd56036019237463be26b3">LIBSBML_OPERATION_SUCCESS</a>)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Conversion failed!&quot;</span> &lt;&lt; endl;</div><div class="line">      _doc-&gt;printErrors();</div><div class="line">      exit(2);  </div><div class="line">    }</div><div class="line"></div><div class="line">    plugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(layoutNsUri);</div><div class="line"></div><div class="line">    <a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *docPlugin</div><div class="line">      = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (docPlugin != NULL)</div><div class="line">      docPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(layoutNsUri);</div><div class="line"></div><div class="line">    updateNs(plugin-&gt;<a class="code" href="class_layout_model_plugin.html#a8d1441c97d13b500d8a54052264e21c5">getListOfLayouts</a>());</div><div class="line"></div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;addPackageNamespace(<span class="stringliteral">&quot;layout&quot;</span>, 1);</div><div class="line">    _doc-&gt;setPackageRequired(<span class="stringliteral">&quot;layout&quot;</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    <span class="keywordflow">if</span> (!foundRenderElements)</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    <a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *rdocPlugin = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;render&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (rdocPlugin != NULL)</div><div class="line">    {</div><div class="line">      rdocPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(renderNsUri);      </div><div class="line">      _doc-&gt;getSBMLNamespaces()-&gt;addPackageNamespace(<span class="stringliteral">&quot;render&quot;</span>, 1);    </div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">      _doc-&gt;enablePackage(renderNsUri, <span class="stringliteral">&quot;render&quot;</span>, <span class="keyword">true</span>);</div><div class="line">    }</div><div class="line">    _doc-&gt;setPackageRequired(<span class="stringliteral">&quot;render&quot;</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a13"></a><a class="code" href="class_list_of_layouts.html">ListOfLayouts</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a name="a14"></a><a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a15"></a><a class="code" href="class_layout.html">Layout</a>*)(list-&gt;<a name="a16"></a><a class="code" href="class_list_of_layouts.html#a22fee22a0b3e293216f1eee326b722fb">get</a>(i)));</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line"></div><div class="line">    <a name="_a17"></a><a class="code" href="class_render_list_of_layouts_plugin.html">RenderListOfLayoutsPlugin</a>* lolPlugin</div><div class="line">      = (<a class="code" href="class_render_list_of_layouts_plugin.html">RenderListOfLayoutsPlugin</a>*)list-&gt;<a name="a18"></a><a class="code" href="class_s_base.html#aee8d8b8cb1ae5980d228174073fc5abc">getPlugin</a>(<span class="stringliteral">&quot;render&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (lolPlugin != NULL)</div><div class="line">    {</div><div class="line">      updateNs(lolPlugin-&gt;<a name="a19"></a><a class="code" href="class_render_list_of_layouts_plugin.html#a53ceb10c3d42c2cb604854dbb1818eed">getListOfGlobalRenderInformation</a>());</div><div class="line">      lolPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(renderNsUri);</div><div class="line">    }</div><div class="line"></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a20"></a><a class="code" href="class_list_of_global_render_information.html">ListOfGlobalRenderInformation</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a21"></a><a class="code" href="class_global_render_information.html">GlobalRenderInformation</a>*)(list-&gt;<a name="a22"></a><a class="code" href="class_list_of_global_render_information.html#a65c29b810d4c7c85e3b7c2f1b3835179">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a23"></a><a class="code" href="class_list_of_local_render_information.html">ListOfLocalRenderInformation</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a24"></a><a class="code" href="class_local_render_information.html">LocalRenderInformation</a>*)(list-&gt;<a name="a25"></a><a class="code" href="class_list_of_local_render_information.html#af2be460347a13773d32b2941dcd2d618">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_global_render_information.html">GlobalRenderInformation</a> *info)</div><div class="line">  {</div><div class="line">    foundRenderElements = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    info-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    updateNs(info-&gt;<a name="a26"></a><a class="code" href="class_render_information_base.html#ad2afaafae350c8a77c805ca66c2872f0">getListOfColorDefinitions</a>());</div><div class="line">    updateNs(info-&gt;<a name="a27"></a><a class="code" href="class_render_information_base.html#a837b0c3c38558a93debb7f378f96a85e">getListOfGradientDefinitions</a>());</div><div class="line">    updateNs(info-&gt;<a name="a28"></a><a class="code" href="class_render_information_base.html#a740a067c94c0d559e5ada0bef410500e">getListOfLineEndings</a>());</div><div class="line">    updateNs(info-&gt;<a name="a29"></a><a class="code" href="class_global_render_information.html#a2e25a3cd23dfd882b114dea03e7d2c1b">getListOfStyles</a>());</div><div class="line"></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_local_render_information.html">LocalRenderInformation</a> *info)</div><div class="line">  {</div><div class="line">    foundRenderElements = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    info-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    updateNs(info-&gt;<a class="code" href="class_render_information_base.html#ad2afaafae350c8a77c805ca66c2872f0">getListOfColorDefinitions</a>());</div><div class="line">    updateNs(info-&gt;<a class="code" href="class_render_information_base.html#a837b0c3c38558a93debb7f378f96a85e">getListOfGradientDefinitions</a>());</div><div class="line">    updateNs(info-&gt;<a class="code" href="class_render_information_base.html#a740a067c94c0d559e5ada0bef410500e">getListOfLineEndings</a>());</div><div class="line">    updateNs(info-&gt;<a name="a30"></a><a class="code" href="class_local_render_information.html#afe6c21e19e7fbf3128c051d109b7b4a9">getListOfStyles</a>());</div><div class="line"></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a31"></a><a class="code" href="class_list_of_color_definitions.html">ListOfColorDefinitions</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a32"></a><a class="code" href="class_color_definition.html">ColorDefinition</a>*)(list-&gt;<a name="a33"></a><a class="code" href="class_list_of_color_definitions.html#a0fa10a92ec8744510b6462d24468c58c">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_color_definition.html">ColorDefinition</a> *color)</div><div class="line">  {</div><div class="line">    color-&gt;setSBMLNamespaces(renderNs);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a34"></a><a class="code" href="class_list_of_gradient_definitions.html">ListOfGradientDefinitions</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">    {</div><div class="line">      <a name="_a35"></a><a class="code" href="class_gradient_base.html">GradientBase</a>* current = list-&gt;<a name="a36"></a><a class="code" href="class_list_of_gradient_definitions.html#ac420ad202c4a5095b64842b3e4357136">get</a>(i);</div><div class="line">      <span class="keywordflow">if</span> (current-&gt;<a name="a37"></a><a class="code" href="class_gradient_base.html#a4e93edb4a5b48a1fef0f9f67ac5f0007">getTypeCode</a>() == <a name="a38"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9efaeecd5a6889293051a5b8ddcfcb067b63">SBML_RENDER_LINEARGRADIENT</a>)</div><div class="line">        updateNs((<a name="_a39"></a><a class="code" href="class_linear_gradient.html">LinearGradient</a>*)(current));</div><div class="line">      <span class="keywordflow">else</span></div><div class="line">        updateNs((<a name="_a40"></a><a class="code" href="class_radial_gradient.html">RadialGradient</a>*)(current));</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_gradient_base.html">GradientBase</a> *gradient)</div><div class="line">  {</div><div class="line">    gradient-&gt;setSBMLNamespaces(renderNs);</div><div class="line">    updateNs(gradient-&gt;<a name="a41"></a><a class="code" href="class_gradient_base.html#a5ff6274a04441e9ee9b4445cc9489cae">getListOfGradientStops</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a42"></a><a class="code" href="class_list_of_gradient_stops.html">ListOfGradientStops</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a43"></a><a class="code" href="class_gradient_stop.html">GradientStop</a>*)(list-&gt;<a name="a44"></a><a class="code" href="class_list_of_gradient_stops.html#aa6f1c23598322cae8040882d5c9aa0ba">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_gradient_stop.html">GradientStop</a> *stop)</div><div class="line">  {</div><div class="line">    stop-&gt;setSBMLNamespaces(renderNs);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a45"></a><a class="code" href="class_list_of_line_endings.html">ListOfLineEndings</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a46"></a><a class="code" href="class_line_ending.html">LineEnding</a>*)(list-&gt;<a name="a47"></a><a class="code" href="class_list_of_line_endings.html#a8cac9bde09f1c4f42e666851e5462ac7">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_line_ending.html">LineEnding</a> *line)</div><div class="line">  {</div><div class="line">    line-&gt;setSBMLNamespaces(renderNs);</div><div class="line">    updateNs(line-&gt;<a name="a48"></a><a class="code" href="class_line_ending.html#a86a56123eb037fe38c8772a64629a3a9">getBoundingBox</a>());</div><div class="line">    updateNs(line-&gt;<a name="a49"></a><a class="code" href="class_line_ending.html#aabaa7794f8e42b06d74703f5376d97e7">getGroup</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a50"></a><a class="code" href="class_list_of_global_styles.html">ListOfGlobalStyles</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a51"></a><a class="code" href="class_global_style.html">GlobalStyle</a>*)(list-&gt;<a name="a52"></a><a class="code" href="class_list_of_global_styles.html#aba92559365e31f6bcb9163f1850920f7">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_global_style.html">GlobalStyle</a> *style)</div><div class="line">  {</div><div class="line">    style-&gt;setSBMLNamespaces(renderNs);</div><div class="line">    updateNs(style-&gt;<a name="a53"></a><a class="code" href="class_style.html#acaf76ca3d636bba1f7ccb30ba78b355e">getGroup</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a54"></a><a class="code" href="class_local_style.html">LocalStyle</a> *style)</div><div class="line">  {</div><div class="line">    style-&gt;setSBMLNamespaces(renderNs);</div><div class="line">    updateNs(style-&gt;<a class="code" href="class_style.html#acaf76ca3d636bba1f7ccb30ba78b355e">getGroup</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a55"></a><a class="code" href="class_render_group.html">RenderGroup</a> *group)</div><div class="line">  {</div><div class="line">    group-&gt;setSBMLNamespaces(renderNs);</div><div class="line">    updateNs(group-&gt;<a name="a56"></a><a class="code" href="class_render_group.html#a0bc644ec29a03c1db0c39472c7975056">getListOfElements</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a57"></a><a class="code" href="class_list_of_drawables.html">ListOfDrawables</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">    {</div><div class="line">      <a name="_a58"></a><a class="code" href="class_transformation2_d.html">Transformation2D</a>* current = list-&gt;<a name="a59"></a><a class="code" href="class_list_of_drawables.html#a10353c9cb78316c6743df6ba393e2687">get</a>(i);</div><div class="line">      <span class="keywordflow">switch</span>(current-&gt;<a name="a60"></a><a class="code" href="class_transformation2_d.html#a7aa6caa87b2992411c3fe0ea0326a437">getTypeCode</a>())</div><div class="line">      {</div><div class="line">      <span class="keywordflow">case</span> <a name="a61"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9efac98e3419618a5c235a2473e48ecb0b81">SBML_RENDER_CURVE</a>:</div><div class="line">        updateNs((<a name="_a62"></a><a class="code" href="class_render_curve.html">RenderCurve</a>*)(current));</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a name="a63"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9efaa4a5372d04b331a15046b2f51529d34f">SBML_RENDER_ELLIPSE</a>:</div><div class="line">        updateNs((<a name="_a64"></a><a class="code" href="class_ellipse.html">Ellipse</a>*)(current));</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a name="a65"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9efa97e5bc6658518993da221cbae9554711">SBML_RENDER_GROUP</a>:</div><div class="line">        updateNs((<a class="code" href="class_render_group.html">RenderGroup</a>*)(current));</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a name="a66"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9efac9079ffd7609bda7743696fa2b7f98a9">SBML_RENDER_IMAGE</a>:</div><div class="line">        updateNs((<a name="_a67"></a><a class="code" href="class_image.html">Image</a>*)(current));</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a name="a68"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9efa4af9d3c2095aa5472ce677e457bb6851">SBML_RENDER_POLYGON</a>:</div><div class="line">        updateNs((<a name="_a69"></a><a class="code" href="class_polygon.html">Polygon</a>*)(current));</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a name="a70"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9efa94bca8f86c4aad176ac507c0d0c03a0b">SBML_RENDER_RECTANGLE</a>:</div><div class="line">        updateNs((<a name="_a71"></a><a class="code" href="class_rectangle.html">Rectangle</a>*)(current));</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> <a name="a72"></a><a class="code" href="_render_extension_8h.html#a1ee9fbdc9bd026cb1b0cc86e6349b9eface924496fb3a3cd3428e24e4cab3e338">SBML_RENDER_TEXT</a>:</div><div class="line">        updateNs((<a name="_a73"></a><a class="code" href="class_text.html">Text</a>*)(current));</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      }      </div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_render_curve.html">RenderCurve</a> *curve)</div><div class="line">  {</div><div class="line">    curve-&gt;setSBMLNamespaces(renderNs);</div><div class="line">    updateNs(curve-&gt;<a name="a74"></a><a class="code" href="class_render_curve.html#a57a1a5e0164b8563b341dec7ed247184">getListOfElements</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_transformation2_d.html">Transformation2D</a> *element)</div><div class="line">  {</div><div class="line">    element-&gt;setSBMLNamespaces(renderNs);    </div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_polygon.html">Polygon</a> *element)</div><div class="line">  {</div><div class="line">    element-&gt;setSBMLNamespaces(renderNs);    </div><div class="line">    updateNs(element-&gt;<a name="a75"></a><a class="code" href="class_polygon.html#a9c1e57d551929fabacf491dbdce369a9">getListOfElements</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a76"></a><a class="code" href="class_list_of_curve_elements.html">ListOfCurveElements</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a77"></a><a class="code" href="class_render_point.html">RenderPoint</a>*)(list-&gt;<a name="a78"></a><a class="code" href="class_list_of_curve_elements.html#a09acf3e9a50e4da7fd6bf3c585669129">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_render_point.html">RenderPoint</a> *element)</div><div class="line">  {</div><div class="line">    element-&gt;setSBMLNamespaces(renderNs);    </div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a79"></a><a class="code" href="class_list_of_local_styles.html">ListOfLocalStyles</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(renderNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a class="code" href="class_local_style.html">LocalStyle</a>*)(list-&gt;<a name="a80"></a><a class="code" href="class_list_of_local_styles.html#af16b9741a7e08180025910d7db48e20d">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a81"></a><a class="code" href="class_list_of_graphical_objects.html">ListOfGraphicalObjects</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a82"></a><a class="code" href="class_graphical_object.html">GraphicalObject</a>*)(list-&gt;<a name="a83"></a><a class="code" href="class_list_of_graphical_objects.html#a038cb9f3898965a981b060df0578bc32">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a84"></a><a class="code" href="class_list_of_species_glyphs.html">ListOfSpeciesGlyphs</a>*list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a85"></a><a class="code" href="class_species_glyph.html">SpeciesGlyph</a>*)(list-&gt;<a name="a86"></a><a class="code" href="class_list_of_species_glyphs.html#ad46930e4211f3b041f0f4aec30c54dd1">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a87"></a><a class="code" href="class_list_of_compartment_glyphs.html">ListOfCompartmentGlyphs</a>*list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a88"></a><a class="code" href="class_compartment_glyph.html">CompartmentGlyph</a>*)(list-&gt;<a name="a89"></a><a class="code" href="class_list_of_compartment_glyphs.html#a887cf99db4e14e7425ca2bd2e9d6088c">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a90"></a><a class="code" href="class_list_of_line_segments.html">ListOfLineSegments</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">    {</div><div class="line">      <a name="_a91"></a><a class="code" href="class_line_segment.html">LineSegment</a>* current = (<a class="code" href="class_line_segment.html">LineSegment</a>*)(list-&gt;<a name="a92"></a><a class="code" href="class_list_of_line_segments.html#ac560ad2dd741fe07b1e50b2ff7ae6d85">get</a>(i));</div><div class="line">      <span class="keywordflow">if</span> (current-&gt;<a name="a93"></a><a class="code" href="class_line_segment.html#acd876931e3cb226349451c71503f3d7e">getTypeCode</a>() == <a name="a94"></a><a class="code" href="_layout_extension_8h.html#a6b80c825e1507341de5540b8e7de003da72f4d4a407e1e653648f0dec34a7b1ae">SBML_LAYOUT_CUBICBEZIER</a>)</div><div class="line">        updateNs((<a name="_a95"></a><a class="code" href="class_cubic_bezier.html">CubicBezier</a>*)current);</div><div class="line">      <span class="keywordflow">else</span></div><div class="line">        updateNs(current);</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a96"></a><a class="code" href="class_list_of_reaction_glyphs.html">ListOfReactionGlyphs</a>*list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a97"></a><a class="code" href="class_reaction_glyph.html">ReactionGlyph</a>*)(list-&gt;<a name="a98"></a><a class="code" href="class_list_of_reaction_glyphs.html#a0a981ba67419b2c51e1d88a82dc92723">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a99"></a><a class="code" href="class_list_of_species_reference_glyphs.html">ListOfSpeciesReferenceGlyphs</a> *list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a100"></a><a class="code" href="class_species_reference_glyph.html">SpeciesReferenceGlyph</a>*)(list-&gt;<a name="a101"></a><a class="code" href="class_list_of_species_reference_glyphs.html#a9eca266909eb2dfc4288570c620d2952">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a102"></a><a class="code" href="class_list_of_text_glyphs.html">ListOfTextGlyphs</a>* list)</div><div class="line">  {</div><div class="line">    list-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; list-&gt;<a class="code" href="class_list_of.html#a67c130e2b66694e0595c2e038b8b68d8">size</a>(); i++)</div><div class="line">      updateNs((<a name="_a103"></a><a class="code" href="class_text_glyph.html">TextGlyph</a>*)(list-&gt;<a name="a104"></a><a class="code" href="class_list_of_text_glyphs.html#ab25f9be490b21f4ece7b1f2c21368ef9">get</a>(i)));</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_cubic_bezier.html">CubicBezier</a> *cubic)</div><div class="line">  {</div><div class="line">    cubic-&gt;setSBMLNamespaces(layoutNs);</div><div class="line">    updateNs((<a class="code" href="class_line_segment.html">LineSegment</a>*)(cubic));</div><div class="line">    updateNs(cubic-&gt;<a name="a105"></a><a class="code" href="class_cubic_bezier.html#adc8d3551c6f5d34c185a91c0335fc36b">getBasePoint1</a>());</div><div class="line">    updateNs(cubic-&gt;<a name="a106"></a><a class="code" href="class_cubic_bezier.html#ae4312c2ebcecf5788c0f1273889adeb4">getBasePoint2</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_line_segment.html">LineSegment</a> *segment)</div><div class="line">  {</div><div class="line">    segment-&gt;setSBMLNamespaces(layoutNs);</div><div class="line">    updateNs(segment-&gt;<a name="a107"></a><a class="code" href="class_line_segment.html#a969f96f97d6c4702304d48ba7b6af066">getStart</a>());</div><div class="line">    updateNs(segment-&gt;<a name="a108"></a><a class="code" href="class_line_segment.html#ab5b50d760763401d6997332814b132bb">getEnd</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_species_glyph.html">SpeciesGlyph</a> *glyph)</div><div class="line">  {</div><div class="line">    glyph-&gt;setSBMLNamespaces(layoutNs);</div><div class="line">    updateNs((<a class="code" href="class_graphical_object.html">GraphicalObject</a>*) glyph);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_species_reference_glyph.html">SpeciesReferenceGlyph</a> *glyph)</div><div class="line">  {</div><div class="line">    glyph-&gt;setSBMLNamespaces(layoutNs);</div><div class="line">    updateNs((<a name="_a109"></a><a class="code" href="class_curve.html">Curve</a>*)glyph-&gt;<a name="a110"></a><a class="code" href="class_species_reference_glyph.html#a582821c662b80ea0f4a7fc976819273c">getCurve</a>());</div><div class="line">    updateNs((<a class="code" href="class_graphical_object.html">GraphicalObject</a>*) glyph);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_text_glyph.html">TextGlyph</a> *glyph)</div><div class="line">  {</div><div class="line">    glyph-&gt;setSBMLNamespaces(layoutNs);</div><div class="line">    updateNs((<a class="code" href="class_graphical_object.html">GraphicalObject</a>*) glyph);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_compartment_glyph.html">CompartmentGlyph</a> *glyph)</div><div class="line">  {</div><div class="line">    glyph-&gt;setSBMLNamespaces(layoutNs);</div><div class="line">    updateNs((<a class="code" href="class_graphical_object.html">GraphicalObject</a>*) glyph);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_reaction_glyph.html">ReactionGlyph</a> *glyph)</div><div class="line">  {</div><div class="line">    glyph-&gt;setSBMLNamespaces(layoutNs);</div><div class="line">    updateNs((<a class="code" href="class_graphical_object.html">GraphicalObject</a>*) glyph);</div><div class="line"></div><div class="line">    updateNs(glyph-&gt;<a name="a111"></a><a class="code" href="class_reaction_glyph.html#ad0ec5576e1f174cbdb3d24d76cf95a63">getListOfSpeciesReferenceGlyphs</a>());</div><div class="line">    updateNs(glyph-&gt;<a name="a112"></a><a class="code" href="class_reaction_glyph.html#a54a7330d669558abbedfa8486325fbab">getCurve</a>());</div><div class="line"></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_curve.html">Curve</a> *curve)</div><div class="line">  {</div><div class="line">    curve-&gt;setSBMLNamespaces(layoutNs);        </div><div class="line">    updateNs(curve-&gt;<a name="a113"></a><a class="code" href="class_curve.html#a343aff5499069b490cb84433a7f59d01">getListOfCurveSegments</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_graphical_object.html">GraphicalObject</a> *glyph)</div><div class="line">  {</div><div class="line">    glyph-&gt;setSBMLNamespaces(layoutNs);    </div><div class="line">    updateNs(glyph-&gt;<a name="a114"></a><a class="code" href="class_graphical_object.html#a5264bebc53c36832dfb82764472b0173">getBoundingBox</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a115"></a><a class="code" href="class_bounding_box.html">BoundingBox</a> *box)</div><div class="line">  {</div><div class="line">    box-&gt;setSBMLNamespaces(layoutNs);        </div><div class="line">    updateNs(box-&gt;<a name="a116"></a><a class="code" href="class_bounding_box.html#ac7db7cdd2e4e45e201d499f592100be9">getDimensions</a>());</div><div class="line">    updateNs(box-&gt;<a name="a117"></a><a class="code" href="class_bounding_box.html#a757df318fe6f43550d36cc8e2132f943">getPosition</a>());</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a118"></a><a class="code" href="class_dimensions.html">Dimensions</a> *dim)</div><div class="line">  {</div><div class="line">    dim-&gt;setSBMLNamespaces(layoutNs);        </div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a name="_a119"></a><a class="code" href="class_point.html">Point</a> *point)</div><div class="line">  {</div><div class="line">    point-&gt;setSBMLNamespaces(layoutNs);        </div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> updateNs(<a class="code" href="class_layout.html">Layout</a> *layout)</div><div class="line">  {</div><div class="line">    layout-&gt;setSBMLNamespaces(layoutNs);</div><div class="line"></div><div class="line">    updateNs(layout-&gt;<a name="a120"></a><a class="code" href="class_layout.html#ad5cba6d1912d09f7cc48f71861aaade7">getDimensions</a>());</div><div class="line">    updateNs(layout-&gt;<a name="a121"></a><a class="code" href="class_layout.html#a2e79f4ce233e6f33ce2fc21cf62eef9c">getListOfAdditionalGraphicalObjects</a>());</div><div class="line">    updateNs(layout-&gt;<a name="a122"></a><a class="code" href="class_layout.html#a15078a0aa93d3398f94605602846da3b">getListOfCompartmentGlyphs</a>());</div><div class="line">    updateNs(layout-&gt;<a name="a123"></a><a class="code" href="class_layout.html#ad74b69337c20c2c4d1676897ea461b20">getListOfReactionGlyphs</a>());</div><div class="line">    updateNs(layout-&gt;<a name="a124"></a><a class="code" href="class_layout.html#a38b7ab04934ed5e7a8bd32e9606eceb6">getListOfSpeciesGlyphs</a>());</div><div class="line">    updateNs(layout-&gt;<a name="a125"></a><a class="code" href="class_layout.html#ad1d9f596f8a7ad7b8c04c5584ffa0824">getListOfTextGlyphs</a>());    </div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line"></div><div class="line">    <a name="_a126"></a><a class="code" href="class_render_layout_plugin.html">RenderLayoutPlugin</a>* layoutPlugin</div><div class="line">      = (<a class="code" href="class_render_layout_plugin.html">RenderLayoutPlugin</a>*)layout-&gt;<a class="code" href="class_s_base.html#aee8d8b8cb1ae5980d228174073fc5abc">getPlugin</a>(<span class="stringliteral">&quot;render&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (layoutPlugin != NULL)</div><div class="line">    {</div><div class="line">      updateNs(layoutPlugin-&gt;getListOfLocalRenderInformation());</div><div class="line">      layoutPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(renderNsUri);</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line"></div><div class="line">  <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* _doc;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">  <span class="keywordtype">string</span> renderNsUri;</div><div class="line">  <a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a> *renderNs;</div><div class="line">  <span class="keywordtype">bool</span> foundRenderElements;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">  <span class="keywordtype">string</span> layoutNsUri; </div><div class="line">  <a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a> *layoutNs;</div><div class="line"></div><div class="line">};</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">class </span>SimpleLayoutConverter</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line"></div><div class="line">  SimpleLayoutConverter(<a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a> *doc) {</div><div class="line">    _doc = doc;</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  SimpleLayoutConverter(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename) {</div><div class="line">    _doc = <a class="code" href="_s_b_m_l_reader_8h.html#a433392e83590602299af5c058833a82d">readSBMLFromFile</a>(filename);</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  ~SimpleLayoutConverter(){</div><div class="line">    <span class="keyword">delete</span> _doc;</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* getDocument()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _doc; }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> convertLayout()</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (_doc == NULL || _doc-&gt;getModel() == NULL)</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    <span class="comment">// if layout is not used bail</span></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>) == NULL) </div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;getLevel() == 3)</div><div class="line">      convertLayoutToL2();</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">      convertLayoutToL3();</div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> convertLayoutToL2()</div><div class="line">  {    </div><div class="line">    <span class="keywordflow">if</span> (_doc == NULL || _doc-&gt;getModel() == NULL)</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    layoutNsUri = <span class="stringliteral">&quot;http://projects.eml.org/bcb/sbml/level2&quot;</span>;</div><div class="line">    layoutNs = <span class="keyword">new</span> <a class="code" href="_layout_extension_8h.html#a063e6a6d033452af55abd11770e62e09">LayoutPkgNamespaces</a>(2, 1);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    renderNsUri = <span class="stringliteral">&quot;http://projects.eml.org/bcb/sbml/render/level2&quot;</span>;</div><div class="line">    renderNs = <span class="keyword">new</span> <a class="code" href="_render_extension_8h.html#ace3a1a6a94cad016d73f438eb84caea9">RenderPkgNamespaces</a>(2, 1);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>* plugin</div><div class="line">      = (<a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>*)_doc-&gt;getModel()-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (plugin == NULL) </div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line"></div><div class="line">    <a class="code" href="class_conversion_properties.html">ConversionProperties</a> prop(<span class="keyword">new</span> <a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a>(2, 4));</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;strict&quot;</span>, <span class="keyword">false</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;setLevelAndVersion&quot;</span>, <span class="keyword">true</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;ignorePackages&quot;</span>, <span class="keyword">true</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;convert(prop) != <a class="code" href="operation_return_values_8h.html#a87d90022619ee855654b2b8f4997886daf67ea900ebcd56036019237463be26b3">LIBSBML_OPERATION_SUCCESS</a>)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Conversion failed!&quot;</span> &lt;&lt; endl;</div><div class="line">      _doc-&gt;printErrors();</div><div class="line">      exit(2);  </div><div class="line">    }</div><div class="line"></div><div class="line">    <a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *docPlugin = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (docPlugin != NULL)</div><div class="line">      docPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(layoutNsUri);</div><div class="line"></div><div class="line"></div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;removePackageNamespace(3, 1, <span class="stringliteral">&quot;layout&quot;</span>, 1);        </div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;addPackageNamespace(<span class="stringliteral">&quot;layout&quot;</span>, 1);        </div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    <a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *rdocPlugin = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;render&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (rdocPlugin!= NULL)</div><div class="line">      rdocPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(renderNsUri);</div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;removePackageNamespace(3, 1, <span class="stringliteral">&quot;render&quot;</span>, 1);        </div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;addPackageNamespace(<span class="stringliteral">&quot;render&quot;</span>, 1);        </div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">  }</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> convertLayoutToL3()</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (_doc == NULL || _doc-&gt;getModel() == NULL)</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line"></div><div class="line">    layoutNsUri = <span class="stringliteral">&quot;http://www.sbml.org/sbml/level3/version1/layout/version1&quot;</span>;</div><div class="line">    layoutNs = <span class="keyword">new</span> <a class="code" href="_layout_extension_8h.html#a063e6a6d033452af55abd11770e62e09">LayoutPkgNamespaces</a>(3, 1, 1);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    renderNsUri = <span class="stringliteral">&quot;http://www.sbml.org/sbml/level3/version1/render/version1&quot;</span>;</div><div class="line">    renderNs = <span class="keyword">new</span> <a class="code" href="_render_extension_8h.html#ace3a1a6a94cad016d73f438eb84caea9">RenderPkgNamespaces</a>(3, 1, 1);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>* plugin = (<a class="code" href="class_layout_model_plugin.html">LayoutModelPlugin</a>*)_doc-&gt;getModel()-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (plugin == NULL) </div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line"></div><div class="line">    <a class="code" href="class_conversion_properties.html">ConversionProperties</a> prop(<span class="keyword">new</span> <a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a>(3, 1));</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;strict&quot;</span>, <span class="keyword">false</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;setLevelAndVersion&quot;</span>, <span class="keyword">true</span>);</div><div class="line">    prop.<a class="code" href="class_conversion_properties.html#a18145d00ef9f6d602d66b6037ba97352">addOption</a>(<span class="stringliteral">&quot;ignorePackages&quot;</span>, <span class="keyword">true</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (_doc-&gt;convert(prop) != <a class="code" href="operation_return_values_8h.html#a87d90022619ee855654b2b8f4997886daf67ea900ebcd56036019237463be26b3">LIBSBML_OPERATION_SUCCESS</a>)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Conversion failed!&quot;</span> &lt;&lt; endl;</div><div class="line">      _doc-&gt;printErrors();</div><div class="line">      exit(2);  </div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">//plugin-&gt;setElementNamespace(layoutNsUri);</span></div><div class="line"></div><div class="line">    <a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *docPlugin = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (docPlugin != NULL)</div><div class="line">      docPlugin-&gt;<a class="code" href="class_s_base_plugin.html#a70257de82da9ea894348f1d601395e83">setElementNamespace</a>(layoutNsUri);</div><div class="line"></div><div class="line"></div><div class="line">    _doc-&gt;getSBMLNamespaces()-&gt;addPackageNamespace(<span class="stringliteral">&quot;layout&quot;</span>, 1);</div><div class="line">    _doc-&gt;setPackageRequired(<span class="stringliteral">&quot;layout&quot;</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line"></div><div class="line">    <a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a> *rdocPlugin = (<a class="code" href="class_s_b_m_l_document_plugin.html">SBMLDocumentPlugin</a>*)_doc-&gt;getPlugin(<span class="stringliteral">&quot;render&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (rdocPlugin != NULL)</div><div class="line">    {</div><div class="line">      <span class="comment">//rdocPlugin-&gt;setElementNamespace(renderNsUri);      </span></div><div class="line">      _doc-&gt;getSBMLNamespaces()-&gt;addPackageNamespace(<span class="stringliteral">&quot;render&quot;</span>, 1);    </div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">      _doc-&gt;enablePackage(renderNsUri, <span class="stringliteral">&quot;render&quot;</span>, <span class="keyword">true</span>);</div><div class="line">    }</div><div class="line">    _doc-&gt;setPackageRequired(<span class="stringliteral">&quot;render&quot;</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">  }</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line"></div><div class="line">  <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* _doc;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">  <span class="keywordtype">string</span> renderNsUri;</div><div class="line">  <a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a> *renderNs;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">  <span class="keywordtype">string</span> layoutNsUri; </div><div class="line">  <a class="code" href="class_s_b_m_l_namespaces.html">SBMLNamespaces</a> *layoutNs;</div><div class="line"></div><div class="line">};</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc,<span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keywordflow">if</span> (argc != 3)</div><div class="line">  {</div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;usage convertLayout &lt;input&gt; &lt;output&gt;&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        </div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;This converter converts the SBML Layout &quot;</span>; </div><div class="line"><span class="preprocessor">#ifdef LIBSBML_HAS_PACKAGE_RENDER</span></div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;and Render &quot;</span>;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;package information between SBML Level 2 and Level 3.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    exit(1);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// read document</span></div><div class="line">  </div><div class="line">  <span class="comment">// method 1: iterate through all elements</span></div><div class="line">  <span class="comment">// LayoutConverter converter(argv[1]);  </span></div><div class="line"></div><div class="line">  <span class="comment">// method 2: set only the document namespaces</span></div><div class="line">  SimpleLayoutConverter converter(argv[1]);  </div><div class="line"></div><div class="line">  <span class="comment">// convert from L3 -&gt; L2 or L2 -&gt; L3</span></div><div class="line">  converter.convertLayout();</div><div class="line"></div><div class="line">  <span class="comment">// write document to string </span></div><div class="line">  <span class="comment">//char* sbml = writeSBMLToString(converter.getDocument());</span></div><div class="line"></div><div class="line">  <span class="comment">// write document</span></div><div class="line">  <a name="a127"></a><a class="code" href="_s_b_m_l_writer_8h.html#acd78335b9c61bb1f632219f6a28f23ae">writeSBML</a>(converter.getDocument(),argv[2]);</div><div class="line">}</div></div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for Doxygen -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Visit <a href="http://sbml.org">SBML.org</a> for more information
    about SBML and libSBML.
    </li>
   </ul>
</div>
</body>
</html>
