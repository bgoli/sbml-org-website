<!-- HTML header for Doxygen -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libSBML Python API: Reading and writing SBML content</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="sbml.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="libSBML Python API"/>
<link href="libsbml-doxygen-stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBML Python API
   &#160;<span id="projectnumber">5.18.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="group__core.html"><span>Core&#160;libSBML</span></a></li>
      <li><a href="usergroup0.html"><span>Level&#160;3&#160;Extensions</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="libsbml-python-example-files.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('libsbml-python-reading-files.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Reading and writing SBML content </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#rf-started">Getting started: the 1-minute introduction</a></li>
<li class="level1"><a href="#rf-reading">Reading SBML</a></li>
<li class="level1"><a href="#rf-sbmldocument">The SBMLDocument container</a></li>
<li class="level1"><a href="#rf-writing">Writing SBML</a></li>
</ul>
</div>
<div class="textblock"><p>This section summarizes how to read and write SBML content using the facilities provided by libSBML.</p>
<p>This is only a basic orientation to these essential facilities of libSBML, and is far from exhaustive in its coverage. Readers are directed to the rest of this manual for more details about using libSBML's many features and facilities. Please use the navigation bar near the top of the page and the table of contents in the left-hand column for navigating to other parts of this manual.</p>
<h1><a class="anchor" id="rf-started"></a>
Getting started: the 1-minute introduction</h1>
<p>In LibSBML, the class <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> is used as a top-level container for storing SBML content and data associated with it (such as warnings and error messages). Here is a simple example to start this discussion, using Python in interactive mode: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&gt;&gt;&gt; <span class="keyword">from</span> libsbml <span class="keyword">import</span> *</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&gt;&gt;&gt; reader = <a class="code" href="class_s_b_m_l_reader.html">SBMLReader</a>()</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&gt;&gt;&gt; document = reader.readSBML(<span class="stringliteral">&quot;examples/sample-models/from-spec/level-2/enzymekinetics.xml&quot;</span>)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;&gt;&gt;&gt; document.getNumErrors()</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;0</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;&gt;&gt;&gt;</div></div><!-- fragment --><p>The code above illustrates probably the simplest possible use of libSBML: reading a model and printing any errors or warnings encountered. The code begins with a Python <code>import</code> command to load the libSBML API into the running Python interpreter. Next, it instantiates an <a class="el" href="classlibsbml_1_1_s_b_m_l_reader.html">SBMLReader</a> object and stores it in a variable called <code>reader</code>. Then, it uses this object to read an SBML model stored in a file, creating an <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> object in the process and storing it in the variable <code>document</code>. Finally, it calls on the <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a4486e0f00bb5b1ac17f6b0d5c131ecde">SBMLDocument.getNumErrors()</a> method to check if any errors were encountered.</p>
<h1><a class="anchor" id="rf-reading"></a>
Reading SBML</h1>
<p>SBML may be read from a file or an in-memory character string into an <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> object. LibSBML defines two basic, convenient, global functions for reading SBML:</p>
<ul>
<li><a class="el" href="namespacelibsbml.html#a89ff82ca08d642a39b0c3625a86f0312">readSBMLFromFile(string filename)</a>. This function takes a file name, attempts to read an SBML document from the file, and returns a <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> object if successful. </li>
<li><a class="el" href="namespacelibsbml.html#a8fcdc4b0ce1fbbe49029e09e2c19585f">readSBMLFromString(string xml)</a>. This function takes a string assumed to contain XML content, attempts to read an SBML document from the string, and returns a <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> object if successful.</li>
</ul>
<p>The model may be in any SBML Level and Version combination. LibSBML implements an unified object model for SBML that encompasses all SBML Levels, so applications generally do not need to worry about differences in syntax between these definitions of SBML when reading and writing models. (However, applications still need to be concerned about the <em>constructs</em> used and how they are interpreted, since there are substantial differences between SBML Level&#160;1, Level&#160;2, and Level&#160;3!)</p>
<h1><a class="anchor" id="rf-sbmldocument"></a>
The SBMLDocument container</h1>
<p>As might be deduced from the examples so far, an <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> object in libSBML represents a whole SBML model and its associated data. The <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> class corresponds roughly to the class <em>Sbml</em> defined in the SBML Level&#160;2 specification, but it does not have a direct correspondence in SBML Level&#160;1. (Nevertheless, it is created by libSBML no matter whether the model is Level&#160;1, Level&#160;2 or Level&#160;3.)</p>
<p><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> is derived from <a class="el" href="classlibsbml_1_1_s_base.html">SBase</a>, so that it contains the usual <a class="el" href="classlibsbml_1_1_s_base.html">SBase</a> attributes (in SBML Level&#160;2 Version&#160;3) of "metaid" and "sboTerm", as well as the subelements "notes" and "annotation". It also contains the attributes "level" and "version" indicating the Level and Version of the SBML read. <a class="el" href="classlibsbml_1_1_s_base.html">SBase</a> (and thus its subclasses such as <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a>) provides methods for querying this information: </p><ul>
<li><a class="el" href="classlibsbml_1_1_s_base.html#a6b590b1918685a0155188b3a9b6c58b7">SBMLDocument.getLevel()</a> returns the SBML Level of the model. </li>
<li><a class="el" href="classlibsbml_1_1_s_base.html#a959ddaa688f0990859c418eadef7ecc5">SBMLDocument.getVersion()</a> returns the SBML Version within the Level of the model.</li>
</ul>
<p>Of course, the whole point of reading an SBML file or data stream is to get at the SBML model it contains. The following method allows access to the Model object within an SBML document:</p>
<ul>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a019be10d53b2988f0de4eb8845385da4">SBMLDocument.getModel()</a> returns a <a class="el" href="classlibsbml_1_1_model.html" title=" An SBML model. ">libsbml::Model</a> object for the SBML model contained in the <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a>.</li>
</ul>
<p>Here is an example of using this: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&gt;&gt;&gt; <span class="keyword">from</span> libsbml <span class="keyword">import</span> *</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&gt;&gt;&gt; reader = <a class="code" href="class_s_b_m_l_reader.html">SBMLReader</a>()</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&gt;&gt;&gt; document = reader.readSBMLFromFile(<span class="stringliteral">&quot;examples/sample-models/from-spec/level-2/enzymekinetics.xml&quot;</span>)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;&gt;&gt;&gt; model = document.getModel()</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;&gt;&gt;&gt; model.getNumSpecies()</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;4</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;&gt;&gt;&gt; </div></div><!-- fragment --><p><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> also acts to log any problems encountered while reading the model from the file or data stream. Whether the problems are warnings or errors, they are reported through a single common interface involving the object class <a class="el" href="classlibsbml_1_1_s_b_m_l_error.html">SBMLError</a>. The example earlier on this page already showed some of the methods available for accessing errors and warnings; here is a slightly more complete list:</p>
<ul>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a4486e0f00bb5b1ac17f6b0d5c131ecde">SBMLDocument.getNumErrors()</a> returns a count of the diagnostic messages logged during while attempting to read an SBML model using either <a class="el" href="namespacelibsbml.html#a89ff82ca08d642a39b0c3625a86f0312" title="Reads an SBML document from the given file. ">libsbml::readSBMLFromFile()</a> or <a class="el" href="namespacelibsbml.html#a8fcdc4b0ce1fbbe49029e09e2c19585f" title="Reads an SBML document from a text string. ">libsbml::readSBMLFromString()</a>. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#abee64ce55c4c19402429a839d5e636e2">SBMLDocument.getError(int n)</a> returns the error indexed by integer <code>n</code> in the error log. The <a class="el" href="classlibsbml_1_1_s_b_m_l_error.html">SBMLError</a> object class provides methods for displaying an error message, assessing the severity of the problem encountered, and for finding out the line and column number of where the problem occurred in the SBML input. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a0e5511ba40040e1dafe173390e292633">SBMLDocument.printErrors()</a> prints to standard output all of the errors and diagnostics logged with the given <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a>(). </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a0e5511ba40040e1dafe173390e292633">SBMLDocument.printErrors(ostream stream)</a> is identical to the method above, but prints all of the diagnostics to the given output stream instead of the terminal.</li>
</ul>
<p>Finally, another set of <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html">SBMLDocument</a> methods worth mentioning in the context of reading SBML are those for running consistency-checking and validation rules on the SBML content. These methods assess whether the SBML is legal according to basic rules listed in the SBML Level&#160;2 and Level&#160;3 specification documents. Note that they are mostly structural checks, in the sense that they can indicate whether the SBML is properly constructed; they cannot tell if a model is nonsense. (But at least they can assess whether it's syntactically correct nonsense!).</p>
<ul>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a324f437ef45a631d720c72b531dee601">SBMLDocument.checkConsistency()</a> performs a set of structural and mathematical checks on the SBML content and reports the number of failed checks (errors) encountered. Use the <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a4486e0f00bb5b1ac17f6b0d5c131ecde">SBMLDocument.getNumErrors()</a> and <a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#abee64ce55c4c19402429a839d5e636e2">SBMLDocument.getError(int n)</a> interfaces to examine the individual errors. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a8a7f0e345938b5d130e8b38b85bde5e9">SBMLDocument.checkL1Compatibility()</a> peforms a set of semantic consistency checks on the document to establish whether it can be converted to SBML Level&#160;1, and returns the number of failures. If all the checks succeed, it returns 0. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#af039221da512f7da4dd22b103cae5a8d">SBMLDocument.checkL2v1Compatibility()</a> peforms a set of semantic consistency checks on the document to establish whether it can be converted to SBML Level&#160;2 Version 1, and returns the number of failures. If all the checks succeed, it returns 0. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a1c534e95dcc06b7fb675a43514084597">SBMLDocument.checkL2v2Compatibility()</a> peforms a set of semantic consistency checks on the document to establish whether it can be converted to SBML Level&#160;2 Version&#160;2, and returns the number of failures. If all the checks succeed, it returns 0. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#ad2c6fdc17f181a8ce6cbae73431661ff">SBMLDocument.checkL2v3Compatibility()</a> peforms a set of semantic consistency checks on the document to establish whether it can be converted to SBML Level&#160;2 Version&#160;3, and returns the number of failures. If all the checks succeed, it returns 0. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a26eb700bf46496d54b9dd77d3862cab1">SBMLDocument.checkL2v4Compatibility()</a> peforms a set of semantic consistency checks on the document to establish whether it can be converted to SBML Level&#160;2 Version&#160;4, and returns the number of failures. If all the checks succeed, it returns 0. </li>
<li><a class="el" href="classlibsbml_1_1_s_b_m_l_document.html#a1eb9c627f224afeb47d6fcfb9377ab29">SBMLDocument.checkL3v1Compatibility()</a> peforms a set of semantic consistency checks on the document to establish whether it can be converted to SBML Level&#160;3 Version&#160;1, and returns the number of failures. If all the checks succeed, it returns 0.</li>
</ul>
<p>At the time of this release of libSBML, the most recent release of SBML is Level&#160;3 Version&#160;2 Core Release&#160;1 (RC&#160;2).</p>
<h1><a class="anchor" id="rf-writing"></a>
Writing SBML</h1>
<p>Writing SBML is, in the end, a very simple matter in libSBML. The library provides the following methods for this purposes:</p>
<ul>
<li><a class="el" href="namespacelibsbml.html#accbd1afa41d1bc4d139bec1efa88443e">writeSBMLToFile(SBMLDocument d, string filename)</a> writes the given SBML document to a file, and returns either <code>1</code> on success or <code>0</code> on failure. Reasons for failure can be, for example, that the named file could not be opened for writing. </li>
<li><a class="el" href="namespacelibsbml.html#a1b4bd95bfccb7b432f0c408351da6707">libsbml.writeSBMLToString(SBMLDocument d)</a> returns the given SBML document as a character string, or returns an empty string if a failure occurred. </li>
<li><a class="el" href="namespacelibsbml.html#a64357dba9abd214344ea0805ac4c100d">libsbml.writeSBML(SBMLDocument d, ostream stream)</a> writes the given SBML document to an <code>ostream</code> output stream, and returns either <code>1</code> on success or <code>0</code> on failure. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for Doxygen -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Visit <a href="http://sbml.org">SBML.org</a> for more information
    about SBML and libSBML.
    </li>
   </ul>
</div>
</body>
</html>
