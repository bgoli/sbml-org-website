<!-- HTML header for Doxygen -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libSBML Python API: Tutorial: creating a simple model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="sbml.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="libsbml-doxygen-stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBML Python API
   &#160;<span id="projectnumber">5.18.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="group__core.html"><span>Core&#160;libSBML</span></a></li>
      <li><a href="usergroup0.html"><span>Level&#160;3&#160;Extensions</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="libsbml-python-example-files.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('libsbml-python-creating-model.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Tutorial: creating a simple model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following is a short example of creating a complete model using the libSBML Python interface.</p>
<p>The model created is simple and not biologically relevant, but it does bring together many SBML components, including units of measurement on quantities. Another significant aspect of this example program is its checking of return values on all libSBML calls. This is an important aspect of using the libSBML Python API in practice, especially when building models dynamically (rather than the hardcoded static structure shown here); without checking return values from libSBML calls, there would be a danger of creating objects with invalid components or syntax.</p>
<p>We start by importing the libSBML Python library as well as the Python <code>sys</code> library.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">import</span> sys</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">from</span> libsbml <span class="keyword">import</span> *</div></div><!-- fragment --><p>Next, we define a simple function to check the return values of libSBML calls and report any errors encountered. This function uses a generic parameter for the value (the first argument), and tests the value against nulls as well as integer codes. This makes it suitable for testing the return values from any libSBML function, whether the function returns an object or an integer status codes. The benefit of this will become clear in the code further below.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">def </span>check(value, message):</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  <span class="stringliteral">&quot;&quot;&quot;If &#39;value&#39; is None, prints an error message constructed using</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="stringliteral">  &#39;message&#39; and then exits with status code 1.  If &#39;value&#39; is an integer,</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="stringliteral">  it assumes it is a libSBML return status code.  If the code value is</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="stringliteral">  LIBSBML_OPERATION_SUCCESS, returns without further action; if it is not,</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="stringliteral">  prints an error message constructed using &#39;message&#39; along with text from</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">  libSBML explaining the meaning of the code, and exits with status code 1.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">  &quot;&quot;&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  <span class="keywordflow">if</span> value == <span class="keywordtype">None</span>:</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="keywordflow">raise</span> SystemExit(<span class="stringliteral">&#39;LibSBML returned a null value trying to &#39;</span> + message + <span class="stringliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  <span class="keywordflow">elif</span> type(value) <span class="keywordflow">is</span> int:</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keywordflow">if</span> value == LIBSBML_OPERATION_SUCCESS:</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;      <span class="keywordflow">return</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      err_msg = <span class="stringliteral">&#39;Error encountered trying to &#39;</span> + message + <span class="stringliteral">&#39;.&#39;</span> \</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                + <span class="stringliteral">&#39;LibSBML returned error code &#39;</span> + str(value) + <span class="stringliteral">&#39;: &quot;&#39;</span> \</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                + <a class="code" href="namespacelibsbml.html#a4d25710074fa6c3826e3eed3271d5686">OperationReturnValue_toString</a>(value).strip() + <span class="stringliteral">&#39;&quot;&#39;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      <span class="keywordflow">raise</span> SystemExit(err_msg)</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <span class="keywordflow">else</span>:</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordflow">return</span></div></div><!-- fragment --><p>Now we get to the real business of building the model. Here we encapsulated the entire model in one function to make the example simpler, but in a real application, it would likely be more effective to decompose the function further. For example, an improvement would be to abstract away the construction of major pieces such as SBML species into functions that encapsulate repeated code for setting the component's attributes.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">def </span>create_model():</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  <span class="stringliteral">&quot;&quot;&quot;Returns a simple but complete SBML Level 3 model for illustration.&quot;&quot;&quot;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  <span class="comment"># Create an empty SBMLDocument object.  It&#39;s a good idea to check for</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  <span class="comment"># possible errors.  Even when the parameter values are hardwired like</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  <span class="comment"># this, it is still possible for a failure to occur (e.g., if the</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  <span class="comment"># operating system runs out of memory).</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  <span class="keywordflow">try</span>:</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    document = SBMLDocument(3, 1)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  <span class="keywordflow">except</span> ValueError:</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keywordflow">raise</span> SystemExit(<span class="stringliteral">&#39;Could not create SBMLDocumention object&#39;</span>)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  <span class="comment"># Create the basic Model object inside the SBMLDocument object.  To</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  <span class="comment"># produce a model with complete units for the reaction rates, we need</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  <span class="comment"># to set the &#39;timeUnits&#39; and &#39;extentUnits&#39; attributes on Model.  We</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  <span class="comment"># set &#39;substanceUnits&#39; too, for good measure, though it&#39;s not strictly</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  <span class="comment"># necessary here because we also set the units for invididual species</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <span class="comment"># in their definitions.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  model = document.createModel()</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  check(model,                              <span class="stringliteral">&#39;create model&#39;</span>)</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  check(model.setTimeUnits(<span class="stringliteral">&quot;second&quot;</span>),       <span class="stringliteral">&#39;set model-wide time units&#39;</span>)</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  check(model.setExtentUnits(<span class="stringliteral">&quot;mole&quot;</span>),       <span class="stringliteral">&#39;set model units of extent&#39;</span>)</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  check(model.setSubstanceUnits(<span class="stringliteral">&#39;mole&#39;</span>),    <span class="stringliteral">&#39;set model substance units&#39;</span>)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="comment"># Create a unit definition we will need later.  Note that SBML Unit</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="comment"># objects must have all four attributes &#39;kind&#39;, &#39;exponent&#39;, &#39;scale&#39;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="comment"># and &#39;multiplier&#39; defined.</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  per_second = model.createUnitDefinition()</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  check(per_second,                         <span class="stringliteral">&#39;create unit definition&#39;</span>)</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  check(per_second.setId(<span class="stringliteral">&#39;per_second&#39;</span>),     <span class="stringliteral">&#39;set unit definition id&#39;</span>)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  unit = per_second.createUnit()</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  check(unit,                               <span class="stringliteral">&#39;create unit on per_second&#39;</span>)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  check(unit.setKind(UNIT_KIND_SECOND),     <span class="stringliteral">&#39;set unit kind&#39;</span>)</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  check(unit.setExponent(-1),               <span class="stringliteral">&#39;set unit exponent&#39;</span>)</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  check(unit.setScale(0),                   <span class="stringliteral">&#39;set unit scale&#39;</span>)</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  check(unit.setMultiplier(1),              <span class="stringliteral">&#39;set unit multiplier&#39;</span>)</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment"># Create a compartment inside this model, and set the required</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment"># attributes for an SBML compartment in SBML Level 3.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  c1 = model.createCompartment()</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  check(c1,                                 <span class="stringliteral">&#39;create compartment&#39;</span>)</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  check(c1.setId(<span class="stringliteral">&#39;c1&#39;</span>),                     <span class="stringliteral">&#39;set compartment id&#39;</span>)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  check(c1.setConstant(<span class="keyword">True</span>),               <span class="stringliteral">&#39;set compartment &quot;constant&quot;&#39;</span>)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  check(c1.setSize(1),                      <span class="stringliteral">&#39;set compartment &quot;size&quot;&#39;</span>)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  check(c1.setSpatialDimensions(3),         <span class="stringliteral">&#39;set compartment dimensions&#39;</span>)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  check(c1.setUnits(<span class="stringliteral">&#39;litre&#39;</span>),               <span class="stringliteral">&#39;set compartment size units&#39;</span>)</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment"># Create two species inside this model, set the required attributes</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment"># for each species in SBML Level 3 (which are the &#39;id&#39;, &#39;compartment&#39;,</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="comment"># &#39;constant&#39;, &#39;hasOnlySubstanceUnits&#39;, and &#39;boundaryCondition&#39;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment"># attributes), and initialize the amount of the species along with the</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment"># units of the amount.</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  s1 = model.createSpecies()</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  check(s1,                                 <span class="stringliteral">&#39;create species s1&#39;</span>)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  check(s1.setId(<span class="stringliteral">&#39;s1&#39;</span>),                     <span class="stringliteral">&#39;set species s1 id&#39;</span>)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  check(s1.setCompartment(<span class="stringliteral">&#39;c1&#39;</span>),            <span class="stringliteral">&#39;set species s1 compartment&#39;</span>)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  check(s1.setConstant(<span class="keyword">False</span>),              <span class="stringliteral">&#39;set &quot;constant&quot; attribute on s1&#39;</span>)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  check(s1.setInitialAmount(5),             <span class="stringliteral">&#39;set initial amount for s1&#39;</span>)</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  check(s1.setSubstanceUnits(<span class="stringliteral">&#39;mole&#39;</span>),       <span class="stringliteral">&#39;set substance units for s1&#39;</span>)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  check(s1.setBoundaryCondition(<span class="keyword">False</span>),     <span class="stringliteral">&#39;set &quot;boundaryCondition&quot; on s1&#39;</span>)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  check(s1.setHasOnlySubstanceUnits(<span class="keyword">False</span>), <span class="stringliteral">&#39;set &quot;hasOnlySubstanceUnits&quot; on s1&#39;</span>)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  s2 = model.createSpecies()</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  check(s2,                                 <span class="stringliteral">&#39;create species s2&#39;</span>)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  check(s2.setId(<span class="stringliteral">&#39;s2&#39;</span>),                     <span class="stringliteral">&#39;set species s2 id&#39;</span>)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  check(s2.setCompartment(<span class="stringliteral">&#39;c1&#39;</span>),            <span class="stringliteral">&#39;set species s2 compartment&#39;</span>)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  check(s2.setConstant(<span class="keyword">False</span>),              <span class="stringliteral">&#39;set &quot;constant&quot; attribute on s2&#39;</span>)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  check(s2.setInitialAmount(0),             <span class="stringliteral">&#39;set initial amount for s2&#39;</span>)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  check(s2.setSubstanceUnits(<span class="stringliteral">&#39;mole&#39;</span>),       <span class="stringliteral">&#39;set substance units for s2&#39;</span>)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  check(s2.setBoundaryCondition(<span class="keyword">False</span>),     <span class="stringliteral">&#39;set &quot;boundaryCondition&quot; on s2&#39;</span>)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  check(s2.setHasOnlySubstanceUnits(<span class="keyword">False</span>), <span class="stringliteral">&#39;set &quot;hasOnlySubstanceUnits&quot; on s2&#39;</span>)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment"># Create a parameter object inside this model, set the required</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment"># attributes &#39;id&#39; and &#39;constant&#39; for a parameter in SBML Level 3, and</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment"># initialize the parameter with a value along with its units.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  k = model.createParameter()</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  check(k,                                  <span class="stringliteral">&#39;create parameter k&#39;</span>)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  check(k.setId(<span class="stringliteral">&#39;k&#39;</span>),                       <span class="stringliteral">&#39;set parameter k id&#39;</span>)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  check(k.setConstant(<span class="keyword">True</span>),                <span class="stringliteral">&#39;set parameter k &quot;constant&quot;&#39;</span>)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  check(k.setValue(1),                      <span class="stringliteral">&#39;set parameter k value&#39;</span>)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  check(k.setUnits(<span class="stringliteral">&#39;per_second&#39;</span>),           <span class="stringliteral">&#39;set parameter k units&#39;</span>)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment"># Create a reaction inside this model, set the reactants and products,</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment"># and set the reaction rate expression (the SBML &quot;kinetic law&quot;).  We</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment"># set the minimum required attributes for all of these objects.  The</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment"># units of the reaction rate are determined from the &#39;timeUnits&#39; and</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment"># &#39;extentUnits&#39; attributes on the Model object.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  r1 = model.createReaction()</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  check(r1,                                 <span class="stringliteral">&#39;create reaction&#39;</span>)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  check(r1.setId(<span class="stringliteral">&#39;r1&#39;</span>),                     <span class="stringliteral">&#39;set reaction id&#39;</span>)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  check(r1.setReversible(<span class="keyword">False</span>),            <span class="stringliteral">&#39;set reaction reversibility flag&#39;</span>)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  check(r1.setFast(<span class="keyword">False</span>),                  <span class="stringliteral">&#39;set reaction &quot;fast&quot; attribute&#39;</span>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  species_ref1 = r1.createReactant()</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  check(species_ref1,                       <span class="stringliteral">&#39;create reactant&#39;</span>)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  check(species_ref1.setSpecies(<span class="stringliteral">&#39;s1&#39;</span>),      <span class="stringliteral">&#39;assign reactant species&#39;</span>)</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  check(species_ref1.setConstant(<span class="keyword">True</span>),     <span class="stringliteral">&#39;set &quot;constant&quot; on species ref 1&#39;</span>)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  species_ref2 = r1.createProduct()</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  check(species_ref2,                       <span class="stringliteral">&#39;create product&#39;</span>)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  check(species_ref2.setSpecies(<span class="stringliteral">&#39;s2&#39;</span>),      <span class="stringliteral">&#39;assign product species&#39;</span>)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  check(species_ref2.setConstant(<span class="keyword">True</span>),     <span class="stringliteral">&#39;set &quot;constant&quot; on species ref 2&#39;</span>)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  math_ast = <a class="code" href="namespacelibsbml.html#ae79acc3be958963c55f1d03944add36b">parseL3Formula</a>(<span class="stringliteral">&#39;k * s1 * c1&#39;</span>)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  check(math_ast,                           <span class="stringliteral">&#39;create AST for rate expression&#39;</span>)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  kinetic_law = r1.createKineticLaw()</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  check(kinetic_law,                        <span class="stringliteral">&#39;create kinetic law&#39;</span>)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  check(kinetic_law.setMath(math_ast),      <span class="stringliteral">&#39;set math on kinetic law&#39;</span>)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment"># And we&#39;re done creating the basic model.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment"># Now return a text string containing the model in XML format.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="_s_b_m_l_writer_8h.html#a949d509d2207f80641d56ee0f48894d0">writeSBMLToString</a>(document)</div></div><!-- fragment --><p>The function above is designed to return the SBML model as a string. The closing portion of code in this example is a main routine to invoke it:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keywordflow">if</span> __name__ == <span class="stringliteral">&#39;__main__&#39;</span>:</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  print(create_model())</div></div><!-- fragment --><p>In Unix/Linux environments, we would put the code above into a file and execute it from a command line, redirecting the output to a file. The following is an example:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;python createSimpleModel.py &gt; output.xml</div></div><!-- fragment --><p>This tutorial has demonstrated one approach to creating models and their components; the libSBML API actually provides other means of accomplishing these goals, but for the purposes of this tutorial we focused only on one. Readers are invited to explore the rest of this API manual as well as the <a class="el" href="libsbml-python-example-files.html">set of Python example files</a> included with the libSBML distribution. (The complete text of this example program is included as the file <a class="el" href="create_simple_model_8py-example.html">createSimpleModel.py</a>.) </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for Doxygen -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Visit <a href="http://sbml.org">SBML.org</a> for more information
    about SBML and libSBML.
    </li>
   </ul>
</div>
</body>
</html>
